(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-67ab42b6"],{"67d1":function(t,a,e){},b8c9:function(t,a,e){},b8d0:function(t,a,e){"use strict";e("67d1")},e4b0:function(t,a,e){"use strict";e("b8c9")},fbd0:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("van-row",{staticClass:"dt-home"},[e("van-row",{staticClass:"dt-title",attrs:{type:"flex",align:"center"}},[e("van-col",{attrs:{span:"2"}},[e("van-icon",{staticClass:"dt-back",attrs:{name:"arrow-left"},on:{click:t.back}})],1),e("van-col",{attrs:{span:"20"}},[e("p",{staticClass:"dt-home-shouye"},[t._v("客流监测")])])],1),e("van-row",[e("van-field",{attrs:{readonly:"",clickable:"",label:"区域名称",value:t.areaName,placeholder:"选择区域"},on:{click:function(a){t.showPicker=!0}}}),e("van-popup",{attrs:{round:"",position:"bottom"},model:{value:t.showPicker,callback:function(a){t.showPicker=a},expression:"showPicker"}},[e("van-picker",{attrs:{"show-toolbar":"",columns:t.areaList},on:{cancel:function(a){t.showPicker=!1},confirm:t.onConfirm}})],1)],1),e("van-row",[e("van-col",{staticClass:"dt-status-row",attrs:{span:"8"}},[e("div",{staticClass:"dt-box dt-status-box1"},[e("div",{staticClass:"dt-text"},[e("span",[t._v("今日检票数")])]),e("div",{staticClass:"dt-number"},[e("span",[t._v(t._s(t.intoNum))])])])]),e("van-col",{staticClass:"dt-status-row",attrs:{span:"8"}},[e("div",{staticClass:"dt-box dt-status-box2"},[e("div",{staticClass:"dt-text"},[e("span",[t._v("今日售票数")])]),e("div",{staticClass:"dt-number"},[e("span",[t._v(t._s(t.ticketNum))])])])]),e("van-col",{staticClass:"dt-status-row",attrs:{span:"8"}},[e("div",{staticClass:"dt-box dt-status-box3"},[e("div",{staticClass:"dt-text"},[e("span",[t._v("昨日检票数")])]),e("div",{staticClass:"dt-number"},[e("span",[t._v(t._s(t.yesterdayInto))])])])])],1),e("van-row",{staticClass:"dt-heatMap-box"},[e("heatMap",{staticClass:"dt-heatMap",attrs:{mapCenter:t.mapCenter,latLng:t.latLng}})],1)],1)},s=[],o=e("c638"),i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"heatMap"}})},c=[],r=e("09cb"),l=null,u=null,d={components:{},props:["mapCenter","latLng"],data:function(){return{childMapCenter:{}}},computed:{},watch:{mapCenter:function(t,a){this.childMapCenter=t},latLng:function(t,a){this.setMapCenter(t)}},created:function(){this.childMapCenter=this.mapCenter},mounted:function(){this.initMap(),this.getheatmap()},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){},methods:{initMap:function(){var t=new TMap.LatLng(this.childMapCenter.lat,this.childMapCenter.lng);l=new TMap.Map("heatMap",{pitch:43.5,zoom:14,center:t,mapStyleId:"style1"}),u=new TMap.visualization.Heat({max:350,min:0,height:0,gradientColor:{.01:"rgb(0, 4, 255)",.2:"rgb(255, 217, 0)",.5:"rgb(255, 0, 0)"},radius:30}).addTo(l)},setMapCenter:function(t){var a=new TMap.LatLng(t.lat,t.lng);l.setCenter(a),l.setZoom(t.zoom)},getheatmap:function(){var t=this;Object(o["e"])().then((function(a){var e=a.data;t.hatData=Object(r["b"])(e),u.setData(t.hatData)}))}}},p=d,h=(e("e4b0"),e("2877")),f=Object(h["a"])(p,i,c,!1,null,"1eaa627a",null),m=f.exports,b={components:{heatMap:m},data:function(){return{intoNum:0,ticketNum:0,yesterdayInto:0,showPicker:!1,areaName:"园区全景",latLng:{},areaList:["园区全景","扬州世园会A片区","扬州世园会B片区","扬州世园会C片区","扬州世园会D片区"],areasObj:{"园区全景":{lat:32.33142324513,lng:119.0921550222,zoom:14},"扬州世园会A片区":{lat:32.32707339304338,lng:119.09970923656995,zoom:16.5},"扬州世园会B片区":{lat:32.33137638952233,lng:119.09665380799598,zoom:16.5},"扬州世园会C片区":{lat:32.32890777663665,lng:119.08253169511838,zoom:16.5},"扬州世园会D片区":{lat:32.33640379731052,lng:119.0822374221716,zoom:16.5}},mapCenter:{lat:32.33142324513,lng:119.0921550222}}},computed:{},watch:{},created:function(){this.getGateNum(),this.getTicketNumber()},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){},methods:{getGateNum:function(){var t=this;Object(o["a"])().then((function(a){var e=a.data,n=e[e.length-1].inPeople,s=e[e.length-2].inPeople;t.intoNum=n,t.yesterdayInto=s}))},getTicketNumber:function(){var t=this;Object(o["h"])().then((function(a){var e=a.data;t.ticketNum=e[e.length-1].number}))},Home:function(){this.$router.push({name:"Home"})},onConfirm:function(t){this.areaName=t,this.latLng=this.areasObj[t],this.showPicker=!1},back:function(){this.$store.commit("active",0),history.back(-1)}}},v=b,C=(e("b8d0"),Object(h["a"])(v,n,s,!1,null,"52f18b8e",null));a["default"]=C.exports}}]);
//# sourceMappingURL=chunk-67ab42b6.6b01b82e.js.map