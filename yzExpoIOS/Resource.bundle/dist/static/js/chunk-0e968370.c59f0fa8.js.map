{"version":3,"sources":["webpack:///./src/views/order/newTicket/index.vue?6536","webpack:///src/views/order/newTicket/index.vue","webpack:///./node_modules/core-js/internals/whitespaces.js","webpack:///./node_modules/core-js/internals/string-trim.js","webpack:///./node_modules/core-js/modules/es.number.constructor.js","webpack:///./src/views/order/newTicket/index.vue?6db3","webpack:///./src/views/order/newTicket/index.vue?83ac","webpack:///./src/views/order/newTicket/index.vue","webpack:///./node_modules/core-js/modules/es.function.name.js"],"names":["components","filters","data","form","ID","this","getUUid","SecunityCode","SecunityContent","SecunityType","SecunityStatus","SecunityBussId","ChargeUserID","ChargeUserName","ChargeDeptMent","ChargeDuty","ChargeLinkPhone","CahrgeContent","OperatorUserId","JSON","parse","localStorage","getItem","uid","OperatorUserName","OperationTime","Date","OperatorLinkOhone","mobile","Creater","real_name","CreateTime","Validity","LinkPicture","OrderNo","OrderMoney","OrderGoods","LogisticsCompany","pictureList","orderType","typeList","showPicker","isStore","peoples","peopleobj","showPicker2","upImgList","parentList","computed","watch","created","console","log","mounted","getTypeInfos","getParentList","$toast","loading","message","forbidClick","duration","beforeCreate","beforeMount","beforeUpdate","updated","beforeDestroy","destroyed","activated","methods","text","uname","uList","push","child","pid","paretid","addWorkOrder","$dialog","position","handleCancel","SysCode","Key","type","index","ItemValue","Description","id","Number","num","i","Math","floor","random","submit","gdtype","value","upImgBefore","file","upImgAfter","Array","forEach","quality","success","result","self","requestUpImg","error","err","assocID","module","submodule","Uploader","info","objToFormData","DownloadPath","response","Data","FileID","formData","append","key","deleteImg","onConfirm","userInfo","back","$store","commit","history","exports","requireObjectCoercible","whitespaces","whitespace","ltrim","RegExp","rtrim","createMethod","TYPE","$this","string","String","replace","start","end","trim","DESCRIPTORS","global","isForced","redefine","has","classof","inheritIfRequired","toPrimitive","fails","create","getOwnPropertyNames","f","getOwnPropertyDescriptor","defineProperty","NUMBER","NativeNumber","NumberPrototype","prototype","BROKEN_CLASSOF","toNumber","argument","first","third","radix","maxCode","digits","length","code","it","charCodeAt","NaN","slice","parseInt","NumberWrapper","arguments","dummy","valueOf","call","keys","split","j","constructor","render","_vm","_h","$createElement","_c","_self","staticStyle","staticClass","attrs","on","_v","required","model","callback","$$v","$set","expression","_s","format","$event","directives","name","rawName","staticRenderFns","component","FunctionPrototype","Function","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","match"],"mappings":"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","file":"static/js/chunk-0e968370.c59f0fa8.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=d7430028&lang=scss&scoped=true&\"","<!--\r\n * @Description: \r\n * @Author: Li bin\r\n * @Github: https://github.com/hzylyh\r\n * @Date: 2020-12-11 14:32:57\r\n * @LastEditors: yanxiao\r\n-->\r\n<!-- 新增工单 -->\r\n<template>\r\n  <van-row style=\"height:100%\">\r\n    <!-- 顶部蓝色框首页 -->\r\n    <van-row type=\"flex\"\r\n             align=\"center\"\r\n             class=\"dt-title\">\r\n      <van-col span=\"2\">\r\n        <van-icon class=\"dt-back\"\r\n                  @click=\"back\"\r\n                  name=\"arrow-left\" />\r\n      </van-col>\r\n      <van-col span=\"20\">\r\n        <p class=\"dt-home-shouye\">新增工单</p>\r\n      </van-col>\r\n    </van-row>\r\n    <van-row>\r\n      <van-form>\r\n        <van-row class=\"dt-content\">\r\n          <van-row class=\"dt-table\">\r\n            <van-row class=\"dt-line\">\r\n              <van-col :span=\"8\"\r\n                       class=\"dt-item-title\">工单编号：</van-col>\r\n              <van-col class=\"dt-item-content\">\r\n                <van-field class=\"dt-input\"\r\n                           v-model=\"form.SecunityCode\"\r\n                           readonly\r\n                           placeholder=\"请输入\"\r\n                           :rules=\"[{ required: true, message: '请填写工单编号' }]\" />\r\n              </van-col>\r\n            </van-row>\r\n\r\n            <van-row class=\"dt-line\">\r\n              <van-col :span=\"8\"\r\n                       class=\"dt-item-title\">提交人：</van-col>\r\n              <van-col class=\"dt-item-content\">\r\n                <van-field v-model=\"form.OperatorUserName\"\r\n                           readonly\r\n                           placeholder=\"请输入\"\r\n                           :rules=\"[{ required: true, message: '请填' }]\" />\r\n              </van-col>\r\n            </van-row>\r\n            <van-row class=\"dt-line\">\r\n              <van-col :span=\"8\"\r\n                       class=\"dt-item-title dt-time-title\">提交时间：</van-col>\r\n              <van-col class=\"dt-item-content\">\r\n                <span class=\"dt-time\">{{form.OperationTime.format(\"yyyy-MM-dd\")}}</span>\r\n              </van-col>\r\n            </van-row>\r\n            <van-row class=\"dt-line\">\r\n              <van-col :span=\"8\"\r\n                       class=\"dt-item-title\"><span style=\"color:red;\">* </span>选择类型:</van-col>\r\n              <van-col class=\"dt-item-content\">\r\n                <van-field readonly\r\n                           clickable\r\n                           :value=\"orderType\"\r\n                           placeholder=\"选择类型\"\r\n                           @click=\"showPicker = true\" />\r\n                <van-popup v-model=\"showPicker\"\r\n                           round\r\n                           position=\"bottom\">\r\n                  <van-picker show-toolbar\r\n                              :columns=\"typeList\"\r\n                              @cancel=\"showPicker = false\"\r\n                              @confirm=\"gdtype\" />\r\n                </van-popup>\r\n              </van-col>\r\n            </van-row>\r\n            <van-row class=\"dt-line\">\r\n              <van-col class=\"dt-item-title\"><span style=\"color:red;\">* </span>工单内容:</van-col>\r\n            </van-row>\r\n            <van-row>\r\n              <van-field class=\"dt-input\"\r\n                         v-model=\"form.SecunityContent\"\r\n                         rows=\"3\"\r\n                         autosize\r\n                         type=\"textarea\"\r\n                         maxlength=\"50\"\r\n                         placeholder=\"请输入内容\"\r\n                         show-word-limit\r\n                         style=\"width:299px;margin-left:30px;\" />\r\n            </van-row>\r\n            <van-row class=\"dt-line\"\r\n                     v-show=\"isStore\">\r\n              <van-col class=\"dt-item-title\">订单编号:</van-col>\r\n              <van-col class=\"dt-item-content\">\r\n                <van-field class=\"dt-input\"\r\n                           v-model=\"form.OrderNo\"\r\n                           rows=\"1\"\r\n                           autosize\r\n                           type=\"textarea\"\r\n                           placeholder=\"请输入内容\" />\r\n              </van-col>\r\n            </van-row>\r\n            <van-row class=\"dt-line\"\r\n                     v-show=\"isStore\">\r\n              <van-col class=\"dt-item-title\">订单金额:</van-col>\r\n              <van-col class=\"dt-item-content\">\r\n                <van-field class=\"dt-input\"\r\n                           v-model=\"form.OrderMoney\"\r\n                           rows=\"1\"\r\n                           autosize\r\n                           type=\"textarea\"\r\n                           placeholder=\"请输入内容\" />\r\n              </van-col>\r\n            </van-row>\r\n            <van-row class=\"dt-line\"\r\n                     v-show=\"isStore\">\r\n              <van-col class=\"dt-item-title\">订单商品:</van-col>\r\n              <van-col class=\"dt-item-content\">\r\n                <van-field class=\"dt-input\"\r\n                           v-model=\"form.OrderGoods\"\r\n                           rows=\"1\"\r\n                           autosize\r\n                           type=\"textarea\"\r\n                           placeholder=\"请输入内容\" />\r\n              </van-col>\r\n            </van-row>\r\n            <van-row class=\"dt-line\"\r\n                     v-show=\"isStore\">\r\n              <van-col class=\"dt-item-title\">物流公司:</van-col>\r\n              <van-col class=\"dt-item-content\">\r\n                <van-field class=\"dt-input\"\r\n                           v-model=\"form.LogisticsCompany\"\r\n                           rows=\"1\"\r\n                           autosize\r\n                           type=\"textarea\"\r\n                           placeholder=\"请输入内容\" />\r\n              </van-col>\r\n            </van-row>\r\n            <van-row>\r\n              <van-row class=\"dt-top\">\r\n                <van-col :span=\"8\"\r\n                         class=\"dt-item-title-pic\">上传图片：</van-col>\r\n              </van-row>\r\n              <div class=\"dt-upImg-box\"\r\n                   style=\"text-align:left;\">\r\n                <van-uploader v-model=\"upImgList\"\r\n                              :before-read=\"upImgBefore\"\r\n                              :after-read=\"upImgAfter\"\r\n                              :before-delete=\"deleteImg\"\r\n                              :max-count=\"9\"\r\n                              multiple\r\n                              :upload-icon=\"require('../../../assets/img/加照片.png')\" />\r\n              </div>\r\n            </van-row>\r\n            <van-row class=\"dt-line\">\r\n              <van-col :span=\"8\"\r\n                       class=\"dt-item-title\"><span style=\"color:red;\">* </span>指派给：</van-col>\r\n              <van-col class=\"dt-item-content\">\r\n                <van-field readonly\r\n                           clickable\r\n                           :value=\"form.ChargeUserName\"\r\n                           placeholder=\"请选择\"\r\n                           @click=\"showPicker2 = true\" />\r\n                <van-popup v-model=\"showPicker2\"\r\n                           round\r\n                           position=\"bottom\">\r\n                  <van-picker show-toolbar\r\n                              @confirm=\"onConfirm\"\r\n                              @cancel=\"showPicker2 = false\"\r\n                              :columns=\"peoples\" />\r\n                </van-popup>\r\n              </van-col>\r\n            </van-row>\r\n          </van-row>\r\n          <van-row>\r\n            <van-col :span=\"12\">\r\n              <van-button round\r\n                          style=\"width:100px\"\r\n                          @click=\"handleCancel\"\r\n                          type=\"info\">取消</van-button>\r\n            </van-col>\r\n            <van-col :span=\"12\">\r\n              <van-button round\r\n                          style=\"width:100px\"\r\n                          native-type=\"submit\"\r\n                          type=\"info\"\r\n                          @click=\"addWorkOrder\">确定</van-button>\r\n            </van-col>\r\n          </van-row>\r\n        </van-row>\r\n      </van-form>\r\n    </van-row>\r\n  </van-row>\r\n</template>\r\n<script>\r\n//这里可以导入其他文件（比如：组件，工具js，第三方插件js，json文件，图片文件等等）\r\n//例如：import 《组件名称》 from '《组件路径》';\r\nimport { AddItem } from '@/api/workOrder'\r\nimport { Upload, DeleteFile } from '@/api/upFile'\r\nimport {\r\n  // 获取应用全量用户\r\n  getAllUser,\r\n  //获取部门树详情\r\n  getParentTree,\r\n  //获取部门成员列表\r\n  getParentUser,\r\n} from '@/api/userApi'\r\nimport { queryTypeInfos } from '@/api/dimension'\r\nimport Compressor from 'compressorjs';\r\n\r\nexport default {\r\n  //import引入的组件需要注入到对象中才能使用\r\n  components: {},\r\n  filters: {},\r\n  data () {\r\n    //这里存放数据\r\n    return {\r\n      // 表单内容\r\n      form: {\r\n        ID: this.getUUid(), // 唯一，可不传\r\n        //OrganizationId: \"\", // 所属景区\r\n        SecunityCode: this.getUUid(), // 工单编号\r\n        SecunityContent: '', // 工单内容\r\n        SecunityType: 3, // 工单类型 Int 1.硬件工单，2.突发工单，3.保洁工单，4.咨询工单， 5.投诉工单，6.商城工单，7，客流预警工单\r\n        SecunityStatus: 1, // 工单状态 Int 1.待处理，2.已办理,3.已指派\r\n        //longitude: \"123\", // 经度\r\n        //latitude: \"123\", // 纬度\r\n        //Address: \"123\", // 工单地址\r\n        SecunityBussId: '0', // 指派工单ID 转派的时候传当前工单ID\r\n        ChargeUserID: '', // 对接人userid\r\n        ChargeUserName: '', // 对接人名称\r\n        ChargeDeptMent: '123', // 对接人部门\r\n        ChargeDuty: '部长', // 对接人职务\r\n        ChargeLinkPhone: '123', // 对接人联系电话\r\n        CahrgeContent: '', // 处理内容\r\n        OperatorUserId: JSON.parse(localStorage.getItem('userInfo')).uid, // 操作人userid\r\n        OperatorUserName: JSON.parse(localStorage.getItem('userInfo'))\r\n          .real_name, // 操作人名称\r\n        OperationTime: new Date(), // 操作时间\r\n        OperatorLinkOhone: JSON.parse(localStorage.getItem('userInfo')).mobile, // 操作人联系电话\r\n        //OrderMoney: \"123\", // 订单金额\r\n        //EventTime: \"2020-12-25T00:00:00\", // 事发时间\r\n        //LinkPhone: \"18136161715\", // 手机号\r\n        //UserNmae: \"123\", // 用户\r\n        Creater: JSON.parse(localStorage.getItem('userInfo')).real_name, // 创建人\r\n        CreateTime: new Date(), // 创建时间\r\n        //Modifier: \"\", // 修改人\r\n        //ModifyTime: \"\", // 修改时间\r\n        Validity: 1, // 是否有效（0.无效，1.有效） 传1\r\n        LinkPicture: '', // 图片路径\r\n        /**********商城工单类字段************/\r\n        OrderNo: '', // 订单编号\r\n        OrderMoney: '', // 订单金额\r\n        OrderGoods: '', // 订单商品\r\n        LogisticsCompany: '', // 物流公司\r\n        // Expend1: 0,\r\n        // Expend2: null,\r\n        // Expend3: null,\r\n      },\r\n      // 上传后的图片列表\r\n      pictureList: [],\r\n      // 工单类型数据\r\n      orderType: '保洁工单', // 类型显示的文字\r\n      typeList: [], // 类型列表\r\n      showPicker: false, // 类型选择器\r\n      isStore: false, // 是否为商城工单\r\n      //指派\r\n      peoples: [], // '张建国', '古田乐', '王明亮', '赵心如', '卢西安', '张北京', '刘开放'\r\n      peopleobj: {},\r\n      showPicker2: false, // 指派选择器\r\n      //图片\r\n      upImgList: [\r\n        // Uploader 根据文件后缀来判断是否为图片文件\r\n        // 如果图片 URL 中不包含类型信息，可以添加 isImage 标记来声明\r\n      ],\r\n      parentList: [], //部门列表\r\n    }\r\n  },\r\n  //监听属性 类似于data概念\r\n  computed: {},\r\n  //监控data中的数据变化\r\n  watch: {},\r\n  //生命周期 - 创建完成（可以访问当前this实例）\r\n  created () {\r\n    // 获取应用全量用户\r\n    //this.getFullUser()\r\n    console.log(JSON.parse(localStorage.getItem('userInfo')).mobile)\r\n  },\r\n  //生命周期 - 挂载完成（可以访问DOM元素）\r\n  mounted () {\r\n    this.getTypeInfos()\r\n    //获取部门树列表\r\n    this.getParentList()\r\n    this.$toast.loading({\r\n      message: '正在加载',\r\n      forbidClick: true,\r\n      duration: 500,\r\n    })\r\n  },\r\n  beforeCreate () { }, //生命周期 - 创建之前\r\n  beforeMount () { }, //生命周期 - 挂载之前\r\n  beforeUpdate () { }, //生命周期 - 更新之前\r\n  updated () { }, //生命周期 - 更新之后\r\n  beforeDestroy () { }, //生命周期 - 销毁之前\r\n  destroyed () { }, //生命周期 - 销毁完成\r\n  activated () { }, //如果页面有keep-alive缓存功能，这个函数会触发\r\n  //方法集合\r\n  methods: {\r\n    //获取部门树列表\r\n    getParentList () {\r\n      getParentTree().then((response) => {\r\n        let parentList = response.data.tree[0].children\r\n        for (let index in parentList) {\r\n          let paretname = parentList[index].name\r\n          let paretid = parentList[index].id\r\n          this.peoples.push({ id: paretid, text: paretname })\r\n        }\r\n        //获取部门成员列表\r\n        for (let index in parentList) {\r\n          let paretid = parentList[index].id\r\n          getParentUser({ id: paretid }).then((response) => {\r\n            let uList = []\r\n            for (let index in response.data.list) {\r\n              let uname = response.data.list[index].real_name\r\n              let uid = response.data.list[index].uid\r\n              let child = {\r\n                uid: uid,\r\n                text: uname,\r\n              }\r\n              uList.push(child)\r\n              this.peopleobj[uname] = response.data.list[index]\r\n            }\r\n            for (let index in this.peoples) {\r\n              let pid = this.peoples[index].id\r\n              if (pid === paretid) {\r\n                this.peoples[index].children = uList\r\n              }\r\n            }\r\n          })\r\n        }\r\n      })\r\n    },\r\n    // 新增工单\r\n    addWorkOrder () {\r\n      // 验证字段\r\n      if (!this.form.SecunityContent) {\r\n        this.$toast({\r\n          message: '请输入工单内容',\r\n          position: 'top',\r\n        })\r\n        return\r\n      }\r\n      if (!this.form.ChargeUserName) {\r\n        this.$toast({\r\n          message: '请选择指派人',\r\n          position: 'top',\r\n        })\r\n        return\r\n      }\r\n\r\n      this.$dialog\r\n        .confirm({\r\n          message: '确认新增',\r\n        })\r\n        .then(() => {\r\n          // 格式化图片路径\r\n          if (this.pictureList.length) {\r\n            this.form.LinkPicture = this.pictureList[0].DownloadPath\r\n          }\r\n          AddItem(this.form).then((response) => {\r\n            if (this.$route.query.modelType === 1) {\r\n              this.$router.push({ name: 'MOOrderHead' })\r\n            } else if (this.$route.query.modelType === 2) {\r\n              this.$router.push({ name: 'OMOrderHead' })\r\n            } else {\r\n              // this.$router.push({ name: 'Home' })\r\n              this.$router.push({ name: 'MOOrderHead' })\r\n            }\r\n            this.$store.commit('active', 2)\r\n          })\r\n        })\r\n        .catch(() => {\r\n          // on cancel\r\n        })\r\n    },\r\n    // 取消按钮\r\n    handleCancel () {\r\n      this.$dialog\r\n        .confirm({\r\n          message: '是否放弃新增',\r\n        })\r\n        .then(() => {\r\n          // 退出时删除已上传的图片\r\n          this.pictureList.forEach((item) => {\r\n            let info = [item.FileID]\r\n            DeleteFile(info).then((response) => {\r\n              console.log('图片删除返回', response)\r\n            })\r\n          })\r\n          this.$router.go(-1)\r\n        })\r\n        .catch(() => {\r\n          // on cancel\r\n        })\r\n    },\r\n    // 获取工单类型\r\n    getTypeInfos () {\r\n      let info = {\r\n        SysCode: 'ProjectSecunityService',\r\n        Key: 'SecunityType',\r\n      }\r\n      queryTypeInfos(info).then((response) => {\r\n        let type = eval(response.Data.UValue)\r\n        for (let index in type) {\r\n          if (type[index].ItemValue == '3') {\r\n            this.typeList.splice(0, 0, {\r\n              text: type[index].Description,\r\n              id: Number(type[index].ItemValue),\r\n            })\r\n          } else if (type[index].ItemValue == '2') {\r\n          } else {\r\n            this.typeList.push({\r\n              text: type[index].Description,\r\n              id: Number(type[index].ItemValue),\r\n            })\r\n          }\r\n        }\r\n      })\r\n    },\r\n    // 生成uuid\r\n    getUUid () {\r\n      let id = new Date().valueOf()\r\n      var num = ''\r\n      for (var i = 0; i < 3; i++) {\r\n        num += Math.floor(Math.random() * 10)\r\n      }\r\n      return id + num\r\n    },\r\n    // 查看按钮事件\r\n    submit () {\r\n      console.log('表单内容', this.form)\r\n    },\r\n    // 类别\r\n    gdtype (value) {\r\n      this.form.SecunityType = value.id\r\n      this.orderType = value.text\r\n      this.showPicker = false\r\n      if (this.form.SecunityType == 6) {\r\n        this.isStore = true\r\n      } else {\r\n        this.isStore = false\r\n      }\r\n    },\r\n    // 图片上前的判断\r\n    upImgBefore (file) {\r\n      if (file.type) {\r\n        if (file.type != 'image/jpeg' && file.type != 'image/png') {\r\n          return false\r\n        }\r\n      } else {\r\n        for (let index in file) {\r\n          if (\r\n            file[index].type != 'image/jpeg' &&\r\n            file[index].type != 'image/png'\r\n          ) {\r\n            return false\r\n          }\r\n        }\r\n      }\r\n      return true\r\n    },\r\n    // 图片上传后\r\n    upImgAfter (file) {\r\n      console.log(\"图片上传后\", file)\r\n      let self = this\r\n      if (file instanceof Array) {\r\n        file.forEach((item) => {\r\n          let fileObj = item.file\r\n          new Compressor(fileObj, {\r\n            quality: 0.5,\r\n            success (result) {\r\n              console.log(\"压缩成功\", result);\r\n              self.requestUpImg(result)\r\n            },\r\n            error (err) {\r\n              console.log(err.message);\r\n            },\r\n          })\r\n        })\r\n      } else {\r\n        let fileObj = file.file\r\n        new Compressor(fileObj, {\r\n          quality: 0.5,\r\n          success (result) {\r\n            console.log(\"压缩成功\", result);\r\n            self.requestUpImg(result)\r\n          },\r\n          error (err) {\r\n            console.log(err.message);\r\n          },\r\n        })\r\n      }\r\n    },\r\n    // 发送图片上传请求\r\n    requestUpImg (data) {\r\n      console.log(\"发送图片上传请求\", data);\r\n      let info = {\r\n        assocID: this.form.ID, // 关联业务中某一个具体项的 ID 主键。字符串。最大 50 字节\r\n        module: this.form.SecunityType, // (工单类型)关联的业务模块名称。字符串。最大 50 字节。\r\n        submodule: '待处理',\r\n        Uploader: this.form.OperatorUserName, // 上传人\r\n        file: data,\r\n      }\r\n      info = this.objToFormData(info)\r\n      Upload(info).then((response) => {\r\n        this.pictureList.push({\r\n          DownloadPath: response.Data[0].DownloadPath,\r\n          FileID: response.Data[0].FileID,\r\n        })\r\n      })\r\n    },\r\n    // 将对象转换成form-data格式以便文件上传\r\n    objToFormData (data) {\r\n      //对象转formdata格式\r\n      let formData = new FormData()\r\n      for (let key in data) {\r\n        formData.append(key, data[key])\r\n      }\r\n      return formData\r\n    },\r\n    deleteImg (file, d) {\r\n      let delPicture = this.pictureList.splice(d.index, 1)\r\n      let info = [delPicture[0].FileID]\r\n      DeleteFile(info).then((response) => { })\r\n      return true\r\n    },\r\n    // 指派\r\n    onConfirm (value) {\r\n      if (\r\n        value[value.length - 1] ==\r\n        JSON.parse(localStorage.getItem('userInfo')).real_name\r\n      ) {\r\n        this.$toast({\r\n          message: '不能转派给自己',\r\n          position: 'top',\r\n        })\r\n        return\r\n      }\r\n      let userInfo = this.peopleobj[value[value.length - 1]]\r\n      this.form.ChargeUserID = userInfo.uid\r\n      this.form.ChargeUserName = userInfo.real_name\r\n      this.form.ChargeLinkPhone = userInfo.mobile\r\n      this.showPicker2 = false\r\n    },\r\n    back () {\r\n      this.$store.commit('active', 0)\r\n      history.back(-1)\r\n    },\r\n  },\r\n}\r\n</script>\r\n<style lang='scss' scoped>\r\n//@import url(); 引入公共css类\r\n@import '../../../styles/dimens';\r\n.dt-title {\r\n  width: 100%;\r\n  height: $headerHeight;\r\n  padding-top: $statusBarHeight;\r\n  background-color: #5870f8;\r\n}\r\n.dt-back {\r\n  height: px2rem(14);\r\n  width: px2rem(14);\r\n  margin-left: px2rem(6);\r\n  color: #fff;\r\n  font-size: px2rem(18);\r\n}\r\n.dt-home-shouye {\r\n  font-size: px2rem(17);\r\n  font-family: 'SourceHanSansCN-Medium';\r\n  color: #ecedf2;\r\n}\r\n.dt-content {\r\n  height: calc(100% - #{$headerHeight} - #{$statusBarHeight});\r\n  overflow-y: auto;\r\n  // background-image: url(\"../../../assets/img/工单背景.png\");\r\n  background-image: url('../../../assets/img/背景图.png');\r\n  background-size: 100% 100%;\r\n  // background-attachment: fixed;\r\n  // background-position: 0 calc(#{$headerHeight} + #{$statusBarHeight});\r\n\r\n  .dt-table {\r\n    float: left;\r\n    height: 75vh;\r\n    overflow-y: auto;\r\n    margin-top: px2rem(29);\r\n    .dt-line {\r\n      display: flex;\r\n      align-items: center;\r\n    }\r\n    .dt-item-title {\r\n      float: left;\r\n      width: px2rem(80);\r\n      // width: px2rem(90);\r\n      margin-left: px2rem(38.5);\r\n      // margin-top: px2rem(10);\r\n      font-size: px2rem(15);\r\n      font-family: PingFang-SC-Medium;\r\n      color: #4c4c4c;\r\n      font-weight: 500;\r\n      text-align: left;\r\n    }\r\n    .dt-item-title-pic {\r\n      margin-left: px2rem(36);\r\n      font-size: px2rem(15);\r\n      font-family: PingFang-SC-Medium;\r\n      color: #707070;\r\n      font-weight: 500;\r\n      line-height: px2rem(23);\r\n      text-align: left;\r\n    }\r\n    .dt-item-content {\r\n      float: left;\r\n      width: px2rem(220);\r\n      text-align: left;\r\n      margin-left: px2rem(35.5);\r\n      font-size: px2rem(15);\r\n      font-family: PingFang-SC-Medium;\r\n      font-weight: 400;\r\n      color: #707070;\r\n      margin: 0;\r\n    }\r\n    .dt-time {\r\n      padding-left: px2rem(15);\r\n    }\r\n    .dt-input {\r\n      background-color: transparent;\r\n    }\r\n    .dt-time-title {\r\n      margin-top: px2rem(12);\r\n      margin-bottom: px2rem(12);\r\n    }\r\n    .dt-upImg-box {\r\n      margin-top: px2rem(10);\r\n      margin-left: px2rem(40);\r\n    }\r\n  }\r\n\r\n  /deep/.van-uploader__preview {\r\n    position: relative;\r\n    margin: 0 7px 7px 0;\r\n    cursor: pointer;\r\n  }\r\n  /deep/.van-uploader__preview-image {\r\n    display: block;\r\n    width: 89px;\r\n    height: 89px;\r\n    overflow: hidden;\r\n  }\r\n  /deep/.van-uploader__upload {\r\n    width: 89px;\r\n    height: 89px;\r\n    margin: 0 7px 7px 0;\r\n  }\r\n}\r\n/deep/.van-uploader__preview-delete {\r\n  width: px2rem(20);\r\n  height: px2rem(20);\r\n}\r\n/deep/.van-icon-cross::before {\r\n  margin: px2rem(1);\r\n  font-size: px2rem(20);\r\n}\r\n</style>","// a string of all valid unicode whitespaces\n// eslint-disable-next-line max-len\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var requireObjectCoercible = require('../internals/require-object-coercible');\nvar whitespaces = require('../internals/whitespaces');\n\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = String(requireObjectCoercible($this));\n    if (TYPE & 1) string = string.replace(ltrim, '');\n    if (TYPE & 2) string = string.replace(rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar redefine = require('../internals/redefine');\nvar has = require('../internals/has');\nvar classof = require('../internals/classof-raw');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar toPrimitive = require('../internals/to-primitive');\nvar fails = require('../internals/fails');\nvar create = require('../internals/object-create');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar defineProperty = require('../internals/object-define-property').f;\nvar trim = require('../internals/string-trim').trim;\n\nvar NUMBER = 'Number';\nvar NativeNumber = global[NUMBER];\nvar NumberPrototype = NativeNumber.prototype;\n\n// Opera ~12 has broken Object#toString\nvar BROKEN_CLASSOF = classof(create(NumberPrototype)) == NUMBER;\n\n// `ToNumber` abstract operation\n// https://tc39.github.io/ecma262/#sec-tonumber\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  var first, third, radix, maxCode, digits, length, index, code;\n  if (typeof it == 'string' && it.length > 2) {\n    it = trim(it);\n    first = it.charCodeAt(0);\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal of /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal of /^0o[0-7]+$/i\n        default: return +it;\n      }\n      digits = it.slice(2);\n      length = digits.length;\n      for (index = 0; index < length; index++) {\n        code = digits.charCodeAt(index);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\n// `Number` constructor\n// https://tc39.github.io/ecma262/#sec-number-constructor\nif (isForced(NUMBER, !NativeNumber(' 0o1') || !NativeNumber('0b1') || NativeNumber('+0x1'))) {\n  var NumberWrapper = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var dummy = this;\n    return dummy instanceof NumberWrapper\n      // check on 1..constructor(foo) case\n      && (BROKEN_CLASSOF ? fails(function () { NumberPrototype.valueOf.call(dummy); }) : classof(dummy) != NUMBER)\n        ? inheritIfRequired(new NativeNumber(toNumber(it)), dummy, NumberWrapper) : toNumber(it);\n  };\n  for (var keys = DESCRIPTORS ? getOwnPropertyNames(NativeNumber) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES2015 (in case, if modules with ES2015 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(NativeNumber, key = keys[j]) && !has(NumberWrapper, key)) {\n      defineProperty(NumberWrapper, key, getOwnPropertyDescriptor(NativeNumber, key));\n    }\n  }\n  NumberWrapper.prototype = NumberPrototype;\n  NumberPrototype.constructor = NumberWrapper;\n  redefine(global, NUMBER, NumberWrapper);\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('van-row',{staticStyle:{\"height\":\"100%\"}},[_c('van-row',{staticClass:\"dt-title\",attrs:{\"type\":\"flex\",\"align\":\"center\"}},[_c('van-col',{attrs:{\"span\":\"2\"}},[_c('van-icon',{staticClass:\"dt-back\",attrs:{\"name\":\"arrow-left\"},on:{\"click\":_vm.back}})],1),_c('van-col',{attrs:{\"span\":\"20\"}},[_c('p',{staticClass:\"dt-home-shouye\"},[_vm._v(\"新增工单\")])])],1),_c('van-row',[_c('van-form',[_c('van-row',{staticClass:\"dt-content\"},[_c('van-row',{staticClass:\"dt-table\"},[_c('van-row',{staticClass:\"dt-line\"},[_c('van-col',{staticClass:\"dt-item-title\",attrs:{\"span\":8}},[_vm._v(\"工单编号：\")]),_c('van-col',{staticClass:\"dt-item-content\"},[_c('van-field',{staticClass:\"dt-input\",attrs:{\"readonly\":\"\",\"placeholder\":\"请输入\",\"rules\":[{ required: true, message: '请填写工单编号' }]},model:{value:(_vm.form.SecunityCode),callback:function ($$v) {_vm.$set(_vm.form, \"SecunityCode\", $$v)},expression:\"form.SecunityCode\"}})],1)],1),_c('van-row',{staticClass:\"dt-line\"},[_c('van-col',{staticClass:\"dt-item-title\",attrs:{\"span\":8}},[_vm._v(\"提交人：\")]),_c('van-col',{staticClass:\"dt-item-content\"},[_c('van-field',{attrs:{\"readonly\":\"\",\"placeholder\":\"请输入\",\"rules\":[{ required: true, message: '请填' }]},model:{value:(_vm.form.OperatorUserName),callback:function ($$v) {_vm.$set(_vm.form, \"OperatorUserName\", $$v)},expression:\"form.OperatorUserName\"}})],1)],1),_c('van-row',{staticClass:\"dt-line\"},[_c('van-col',{staticClass:\"dt-item-title dt-time-title\",attrs:{\"span\":8}},[_vm._v(\"提交时间：\")]),_c('van-col',{staticClass:\"dt-item-content\"},[_c('span',{staticClass:\"dt-time\"},[_vm._v(_vm._s(_vm.form.OperationTime.format(\"yyyy-MM-dd\")))])])],1),_c('van-row',{staticClass:\"dt-line\"},[_c('van-col',{staticClass:\"dt-item-title\",attrs:{\"span\":8}},[_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"* \")]),_vm._v(\"选择类型:\")]),_c('van-col',{staticClass:\"dt-item-content\"},[_c('van-field',{attrs:{\"readonly\":\"\",\"clickable\":\"\",\"value\":_vm.orderType,\"placeholder\":\"选择类型\"},on:{\"click\":function($event){_vm.showPicker = true}}}),_c('van-popup',{attrs:{\"round\":\"\",\"position\":\"bottom\"},model:{value:(_vm.showPicker),callback:function ($$v) {_vm.showPicker=$$v},expression:\"showPicker\"}},[_c('van-picker',{attrs:{\"show-toolbar\":\"\",\"columns\":_vm.typeList},on:{\"cancel\":function($event){_vm.showPicker = false},\"confirm\":_vm.gdtype}})],1)],1)],1),_c('van-row',{staticClass:\"dt-line\"},[_c('van-col',{staticClass:\"dt-item-title\"},[_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"* \")]),_vm._v(\"工单内容:\")])],1),_c('van-row',[_c('van-field',{staticClass:\"dt-input\",staticStyle:{\"width\":\"299px\",\"margin-left\":\"30px\"},attrs:{\"rows\":\"3\",\"autosize\":\"\",\"type\":\"textarea\",\"maxlength\":\"50\",\"placeholder\":\"请输入内容\",\"show-word-limit\":\"\"},model:{value:(_vm.form.SecunityContent),callback:function ($$v) {_vm.$set(_vm.form, \"SecunityContent\", $$v)},expression:\"form.SecunityContent\"}})],1),_c('van-row',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isStore),expression:\"isStore\"}],staticClass:\"dt-line\"},[_c('van-col',{staticClass:\"dt-item-title\"},[_vm._v(\"订单编号:\")]),_c('van-col',{staticClass:\"dt-item-content\"},[_c('van-field',{staticClass:\"dt-input\",attrs:{\"rows\":\"1\",\"autosize\":\"\",\"type\":\"textarea\",\"placeholder\":\"请输入内容\"},model:{value:(_vm.form.OrderNo),callback:function ($$v) {_vm.$set(_vm.form, \"OrderNo\", $$v)},expression:\"form.OrderNo\"}})],1)],1),_c('van-row',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isStore),expression:\"isStore\"}],staticClass:\"dt-line\"},[_c('van-col',{staticClass:\"dt-item-title\"},[_vm._v(\"订单金额:\")]),_c('van-col',{staticClass:\"dt-item-content\"},[_c('van-field',{staticClass:\"dt-input\",attrs:{\"rows\":\"1\",\"autosize\":\"\",\"type\":\"textarea\",\"placeholder\":\"请输入内容\"},model:{value:(_vm.form.OrderMoney),callback:function ($$v) {_vm.$set(_vm.form, \"OrderMoney\", $$v)},expression:\"form.OrderMoney\"}})],1)],1),_c('van-row',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isStore),expression:\"isStore\"}],staticClass:\"dt-line\"},[_c('van-col',{staticClass:\"dt-item-title\"},[_vm._v(\"订单商品:\")]),_c('van-col',{staticClass:\"dt-item-content\"},[_c('van-field',{staticClass:\"dt-input\",attrs:{\"rows\":\"1\",\"autosize\":\"\",\"type\":\"textarea\",\"placeholder\":\"请输入内容\"},model:{value:(_vm.form.OrderGoods),callback:function ($$v) {_vm.$set(_vm.form, \"OrderGoods\", $$v)},expression:\"form.OrderGoods\"}})],1)],1),_c('van-row',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isStore),expression:\"isStore\"}],staticClass:\"dt-line\"},[_c('van-col',{staticClass:\"dt-item-title\"},[_vm._v(\"物流公司:\")]),_c('van-col',{staticClass:\"dt-item-content\"},[_c('van-field',{staticClass:\"dt-input\",attrs:{\"rows\":\"1\",\"autosize\":\"\",\"type\":\"textarea\",\"placeholder\":\"请输入内容\"},model:{value:(_vm.form.LogisticsCompany),callback:function ($$v) {_vm.$set(_vm.form, \"LogisticsCompany\", $$v)},expression:\"form.LogisticsCompany\"}})],1)],1),_c('van-row',[_c('van-row',{staticClass:\"dt-top\"},[_c('van-col',{staticClass:\"dt-item-title-pic\",attrs:{\"span\":8}},[_vm._v(\"上传图片：\")])],1),_c('div',{staticClass:\"dt-upImg-box\",staticStyle:{\"text-align\":\"left\"}},[_c('van-uploader',{attrs:{\"before-read\":_vm.upImgBefore,\"after-read\":_vm.upImgAfter,\"before-delete\":_vm.deleteImg,\"max-count\":9,\"multiple\":\"\",\"upload-icon\":require('../../../assets/img/加照片.png')},model:{value:(_vm.upImgList),callback:function ($$v) {_vm.upImgList=$$v},expression:\"upImgList\"}})],1)],1),_c('van-row',{staticClass:\"dt-line\"},[_c('van-col',{staticClass:\"dt-item-title\",attrs:{\"span\":8}},[_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"* \")]),_vm._v(\"指派给：\")]),_c('van-col',{staticClass:\"dt-item-content\"},[_c('van-field',{attrs:{\"readonly\":\"\",\"clickable\":\"\",\"value\":_vm.form.ChargeUserName,\"placeholder\":\"请选择\"},on:{\"click\":function($event){_vm.showPicker2 = true}}}),_c('van-popup',{attrs:{\"round\":\"\",\"position\":\"bottom\"},model:{value:(_vm.showPicker2),callback:function ($$v) {_vm.showPicker2=$$v},expression:\"showPicker2\"}},[_c('van-picker',{attrs:{\"show-toolbar\":\"\",\"columns\":_vm.peoples},on:{\"confirm\":_vm.onConfirm,\"cancel\":function($event){_vm.showPicker2 = false}}})],1)],1)],1)],1),_c('van-row',[_c('van-col',{attrs:{\"span\":12}},[_c('van-button',{staticStyle:{\"width\":\"100px\"},attrs:{\"round\":\"\",\"type\":\"info\"},on:{\"click\":_vm.handleCancel}},[_vm._v(\"取消\")])],1),_c('van-col',{attrs:{\"span\":12}},[_c('van-button',{staticStyle:{\"width\":\"100px\"},attrs:{\"round\":\"\",\"native-type\":\"submit\",\"type\":\"info\"},on:{\"click\":_vm.addWorkOrder}},[_vm._v(\"确定\")])],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=d7430028&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=d7430028&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d7430028\",\n  null\n  \n)\n\nexport default component.exports","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.github.io/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n"],"sourceRoot":""}