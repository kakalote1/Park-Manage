{"version":3,"sources":["webpack:///./src/components/headPortrait/headPortrait.vue?a2e1","webpack:///./src/components/headPortrait/headPortrait.vue?ba35","webpack:///src/components/headPortrait/headPortrait.vue","webpack:///./src/components/headPortrait/headPortrait.vue?73da","webpack:///./src/components/headPortrait/headPortrait.vue","webpack:///./src/views/addressBook/checkAddressBook.vue?9ab2","webpack:///src/views/addressBook/checkAddressBook.vue","webpack:///./src/views/addressBook/checkAddressBook.vue?2d30","webpack:///./src/views/addressBook/checkAddressBook.vue","webpack:///./src/assets/img/返回键.png","webpack:///./src/api/addressBook.js","webpack:///./src/views/addressBook/checkAddressBook.vue?67b4","webpack:///./node_modules/core-js/modules/es.array.slice.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","class","sizeClass","_v","_s","_f","username","staticRenderFns","components","props","filters","filtName","name","length","slice","data","computed","watch","created","size","mounted","beforeCreate","beforeMount","beforeUpdate","updated","beforeDestroy","destroyed","activated","methods","component","staticClass","attrs","ref","loadNode","scopedSlots","_u","key","fn","dataType","staticStyle","_e","on","createConversation","headPortrait","contactList","node","id","children","label","isLeaf","judgeLeaf","list","undefined","childNum","level","_this","getNodes","then","resolve","response","Home","$router","push","JSON","parse","localStorage","getItem","uid","transformData","arr","forEach","s","query","objectId","res","code","module","exports","getDeptList","params","myrequest","url","IM_BASE_API","method","getUserNameById","$","isObject","isArray","toAbsoluteIndex","toLength","toIndexedObject","createProperty","wellKnownSymbol","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","ACCESSORS","0","1","SPECIES","nativeSlice","max","Math","target","proto","forced","start","end","Constructor","result","n","O","k","fin","constructor","Array","prototype","call"],"mappings":"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","file":"static/js/chunk-7c0de8e0.39e7cf8c.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./headPortrait.vue?vue&type=style&index=0&id=1031c22d&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:_vm.sizeClass},[_vm._v(_vm._s(_vm._f(\"filtName\")(_vm.username)))])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\r\n * @Description: \r\n * @Author: yanxiao\r\n * @Github: https://github.com/hzylyh\r\n * @Date: 2021-01-27 14:41:38\r\n * @LastEditors: yanxiao\r\n-->\r\n<!-- 头像 -->\r\n<template>\r\n  <div :class=\"sizeClass\">{{username | filtName}}</div>\r\n</template>\r\n\r\n<script>\r\n//这里可以导入其他文件（比如：组件，工具js，第三方插件js，json文件，图片文件等等）\r\n//例如：import 《组件名称》 from '《组件路径》';\r\n\r\nexport default {\r\n  //import引入的组件需要注入到对象中才能使用\r\n  components: {},\r\n  props: [\"username\", \"size\"],\r\n  filters: {\r\n    filtName (name) {\r\n      if (!name) {\r\n        return '员工'\r\n      }\r\n      if (name.length > 2) {\r\n        return name.slice(name.length - 2, name.length)\r\n      } else {\r\n        return name\r\n      }\r\n    }\r\n  },\r\n  data () {\r\n    //这里存放数据\r\n    return {\r\n      sizeClass: ''\r\n    };\r\n  },\r\n  //监听属性 类似于data概念\r\n  computed: {},\r\n  //监控data中的数据变化\r\n  watch: {},\r\n  //生命周期 - 创建完成（可以访问当前this实例）\r\n  created () {\r\n    if (this.size == \"large\") {\r\n      this.sizeClass = \"dt-headPortrait-large\"\r\n    } else if (this.size == \"small\") {\r\n      this.sizeClass = \"dt-headPortrait-small\"\r\n    } else {\r\n      this.sizeClass = \"dt-headPortrait-small\"\r\n    }\r\n  },\r\n  //生命周期 - 挂载完成（可以访问DOM元素）\r\n  mounted () {\r\n\r\n  },\r\n  beforeCreate () { }, //生命周期 - 创建之前\r\n  beforeMount () { }, //生命周期 - 挂载之前\r\n  beforeUpdate () { }, //生命周期 - 更新之前\r\n  updated () { }, //生命周期 - 更新之后\r\n  beforeDestroy () { }, //生命周期 - 销毁之前\r\n  destroyed () { }, //生命周期 - 销毁完成\r\n  activated () { }, //如果页面有keep-alive缓存功能，这个函数会触发\r\n  //方法集合\r\n  methods: {\r\n\r\n  },\r\n}\r\n</script>\r\n<style lang='scss' scoped>\r\n//@import url(); 引入公共css类\r\n@import \"../../styles/dimens\";\r\n.dt-headPortrait-small {\r\n  height: px2rem(35);\r\n  width: px2rem(35);\r\n  background-color: #5870f8;\r\n  border-radius: px2rem(5);\r\n  line-height: px2rem(35);\r\n  text-align: center;\r\n  font-size: px2rem(10);\r\n  color: #ffffff;\r\n}\r\n.dt-headPortrait-large {\r\n  height: px2rem(50);\r\n  width: px2rem(50);\r\n  background-color: #5870f8;\r\n  border-radius: px2rem(5);\r\n  line-height: px2rem(50);\r\n  text-align: center;\r\n  font-size: px2rem(15);\r\n  font-weight: 500;\r\n  color: #ffffff;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./headPortrait.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./headPortrait.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./headPortrait.vue?vue&type=template&id=1031c22d&scoped=true&\"\nimport script from \"./headPortrait.vue?vue&type=script&lang=js&\"\nexport * from \"./headPortrait.vue?vue&type=script&lang=js&\"\nimport style0 from \"./headPortrait.vue?vue&type=style&index=0&id=1031c22d&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1031c22d\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('van-row',{staticClass:\"dt-chat\"},[_c('van-row',{staticClass:\"dt-title\",attrs:{\"type\":\"flex\",\"align\":\"center\"}},[_c('van-col',{attrs:{\"span\":\"2\"}},[_c('van-image',{staticClass:\"dt-back\",attrs:{\"fit\":\"contain\",\"src\":require('../../assets/img/返回键.png'),\"onclick\":\"history.back(-1);\"}})],1),_c('van-col',{attrs:{\"span\":\"20\"}},[_c('p',{staticClass:\"dt-chat-name\"},[_vm._v(\"选择好友\")])])],1),_c('van-row',{staticClass:\"dt-content\"},[_c('el-tree',{ref:\"tree\",attrs:{\"props\":_vm.props,\"load\":_vm.loadNode,\"show-checkbox\":\"\",\"lazy\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar data = ref.data;\nreturn _c('div',{staticClass:\"custom-tree-node\"},[(data.dataType === 'orgMember')?_c('div',{staticStyle:{\"display\":\"inline-block\"}},[_c('headPortrait',{attrs:{\"size\":\"small\",\"username\":data.name}})],1):_vm._e(),_c('div',{staticStyle:{\"display\":\"inline-block\",\"margin-left\":\"7px\"}},[_vm._v(_vm._s(data.name))])])}}])})],1),_c('van-row',{staticClass:\"dt-buttonBox\"},[_c('van-button',{staticClass:\"dt-submitButton\",staticStyle:{\"background-color\":\"#5870f8\",\"color\":\"white\",\"height\":\"30px\"},on:{\"click\":_vm.createConversation}},[_vm._v(\"确定\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- 通讯录页 -->\r\n<template>\r\n  <van-row class=\"dt-chat\">\r\n    <!-- 顶部蓝色框首页 -->\r\n    <van-row type=\"flex\"\r\n             align=\"center\"\r\n             class=\"dt-title\">\r\n      <van-col span=\"2\">\r\n        <van-image fit=\"contain\"\r\n                   class=\"dt-back\"\r\n                   :src=\"require('../../assets/img/返回键.png')\"\r\n                   onclick=\"history.back(-1);\" />\r\n      </van-col>\r\n      <van-col span=\"20\">\r\n        <p class=\"dt-chat-name\">选择好友</p>\r\n      </van-col>\r\n\r\n    </van-row>\r\n    <van-row class=\"dt-content\">\r\n      <el-tree :props=\"props\"\r\n               :load=\"loadNode\"\r\n               show-checkbox\r\n               ref=\"tree\"\r\n               lazy>\r\n        <div class=\"custom-tree-node\"\r\n             style=\"\"\r\n             slot-scope=\"{ data }\">\r\n          <div style=\"display: inline-block\"\r\n               v-if=\"data.dataType === 'orgMember'\">\r\n            <headPortrait size=\"small\"\r\n                          :username=\"data.name\"></headPortrait>\r\n          </div>\r\n          <div style=\"display: inline-block; margin-left: 7px\">{{ data.name }}</div>\r\n        </div>\r\n      </el-tree>\r\n    </van-row>\r\n\r\n    <van-row class=\"dt-buttonBox\">\r\n      <van-button @click=\"createConversation\"\r\n                  class=\"dt-submitButton\"\r\n                  style=\"background-color:#5870f8;color:white;height:30px;\">确定</van-button>\r\n    </van-row>\r\n  </van-row>\r\n\r\n</template>\r\n<script>\r\n//这里可以导入其他文件（比如：组件，工具js，第三方插件js，json文件，图片文件等等）\r\n//例如：import 《组件名称》 from '《组件路径》';\r\nimport headPortrait from \"@/components/headPortrait/headPortrait\";\r\n// 获取通讯录\r\nimport { getDeptList } from \"@/api/addressBook\";\r\n// 提示框\r\nimport { Toast } from 'vant';\r\n// 发起会话\r\nimport { createSingleConversation, createMultiConversation } from \"@/api/message\";\r\n\r\nexport default {\r\n  //import引入的组件需要注入到对象中才能使用\r\n  props: ['username'],\r\n  components: {\r\n    headPortrait,\r\n  },\r\n  filters: {\r\n    filtName (name) {\r\n      if (name.length > 2) {\r\n        return name.slice(name.length - 2, name.length)\r\n      } else {\r\n        return name\r\n      }\r\n    }\r\n  },\r\n  data () {\r\n    //这里存放数据\r\n    return {\r\n      // 联系人列表\r\n      contactList: [],\r\n      // 查询通讯录的第一个条件\r\n      node: {\r\n        id: 0,\r\n        children: []\r\n      },\r\n      props: {\r\n        label: 'name',\r\n        children: 'zones',\r\n        isLeaf: this.judgeLeaf,\r\n      },\r\n      list: [],\r\n    };\r\n  },\r\n  //监听属性 类似于data概念\r\n  computed: {},\r\n  //监控data中的数据变化\r\n  watch: {},\r\n  //生命周期 - 创建完成（可以访问当前this实例）\r\n  created () {\r\n  },\r\n  //生命周期 - 挂载完成（可以访问DOM元素）\r\n  mounted () {\r\n  },\r\n  beforeCreate () {\r\n  }, //生命周期 - 创建之前\r\n  beforeMount () {\r\n  }, //生命周期 - 挂载之前\r\n  beforeUpdate () {\r\n  }, //生命周期 - 更新之前\r\n  updated () {\r\n  }, //生命周期 - 更新之后\r\n  beforeDestroy () {\r\n  }, //生命周期 - 销毁之前\r\n  destroyed () {\r\n  }, //生命周期 - 销毁完成\r\n  activated () {\r\n  }, //如果页面有keep-alive缓存功能，这个函数会触发\r\n  //方法集合\r\n  methods: {\r\n    judgeLeaf (data) {\r\n      if (data.childNum === undefined || data.childNum === 0) {\r\n        return true\r\n      } else if (data.childNum !== undefined && data.childNum > 0) {\r\n        return false\r\n      }\r\n    },\r\n    loadNode (node, resolve) {\r\n      let _this = this\r\n      if (node.level === 0) {\r\n        _this.getNodes('0').then(response => {\r\n          return resolve(response.data);\r\n        })\r\n      }\r\n      if (node.level > 0) {\r\n        _this.getNodes(node.data.id).then(response => {\r\n          return resolve(response.data);\r\n        })\r\n      }\r\n    },\r\n    Home () {\r\n      this.$router.push({ name: 'Home' })\r\n    },\r\n    getNodes (id) {\r\n      let query = {\r\n        \"id\": id,\r\n        \"uid\": JSON.parse(localStorage.getItem(\"userInfo\")).uid,\r\n        // 允许加载成员\r\n        \"expandMember\": true\r\n      }\r\n      return getDeptList(query)\r\n    },\r\n    async fetchNodes (node) {\r\n      // 查询条件是id和token(伪)\r\n      let query = {\r\n        \"id\": node.id,\r\n        \"uid\": JSON.parse(localStorage.getItem(\"userInfo\")).uid,\r\n        // 允许加载成员\r\n        \"expandMember\": true\r\n      };\r\n      let children = [];\r\n      // 若为第一个节点或节点类型为1\r\n      if (node.id === 0 || node.childNum > 0) {\r\n        await getDeptList(query).then(res => {\r\n          // 查询子节点的子节点\r\n          res.data.forEach(data => {\r\n            this.fetchNodes(data);\r\n            children.push(data);\r\n          });\r\n          // 将此节点的子节点挂载到此节点上\r\n          node.children = children;\r\n        })\r\n      }\r\n    },\r\n    // 转换数据\r\n    transformData () {\r\n      this.contactList = this.node.children;\r\n    },\r\n    // 创建群聊\r\n    createConversation () {\r\n      // 获取的被勾选的所有数据\r\n      let arr = this.$refs.tree.getCheckedNodes()\r\n      // 用于存储创建会话所用的id\r\n      arr.forEach(s => {\r\n        if (s.dataType === 'orgMember') {\r\n          this.list.push(s.id);\r\n        }\r\n      });\r\n      if (this.list.length === 0) {\r\n        Toast('发起会话至少需要选中一人');\r\n      } else if (this.list.length === 1) {\r\n        let query = {};\r\n        query.uid = JSON.parse(localStorage.getItem(\"userInfo\")).uid;\r\n        query.objectId = this.list[0];\r\n        createSingleConversation(query).then(res => {\r\n          if (res.code === 0) {\r\n            Toast('会话创建成功');\r\n            // 跳到会话列表\r\n            this.$router.go(-1);\r\n          } else if (res.code === 1301) {\r\n            Toast('不能给自己发起会话');\r\n          } else if (res.code === 1201) {\r\n            Toast('该会话已存在');\r\n            this.$router.go(-1);\r\n          } else {\r\n            Toast('会话创建失败，请稍后再试');\r\n          }\r\n        })\r\n      } else {\r\n        let query = {};\r\n        query.uid = JSON.parse(localStorage.getItem(\"userInfo\")).uid;\r\n        query.objectIds = this.list.join(\",\");\r\n        createMultiConversation(query).then(res => {\r\n          if (res.code === 0) {\r\n            Toast('会话创建成功');\r\n            this.$router.go(-1);\r\n          } else {\r\n            Toast('会话创建失败，请稍后再试');\r\n          }\r\n        })\r\n      }\r\n    },\r\n  }\r\n}\r\n</script>\r\n<style lang='scss' scoped>\r\n//@import url(); 引入公共css类\r\n@import '../../styles/dimens';\r\n.dt-chat {\r\n  height: 100%;\r\n\r\n  .dt-title {\r\n    width: 100%;\r\n    height: $headerHeight;\r\n    padding-top: $statusBarHeight;\r\n    background-color: #5870f8;\r\n  }\r\n\r\n  .dt-back {\r\n    height: px2rem(14);\r\n    width: px2rem(14);\r\n    margin-left: px2rem(6);\r\n  }\r\n\r\n  .dt-more {\r\n    height: px2rem(18);\r\n    width: px2rem(18);\r\n    float: right;\r\n    text-align: right;\r\n    margin-right: px2rem(17);\r\n  }\r\n\r\n  .dt-chat-name {\r\n    font-size: px2rem(17);\r\n    font-family: 'SourceHanSansCN-Medium';\r\n    color: #ecedf2;\r\n  }\r\n\r\n  .dt-button {\r\n    width: px2rem(53);\r\n    height: px2rem(30);\r\n    margin-top: px2rem(5);\r\n    padding: 0 0;\r\n    background: #5870f8;\r\n    border-radius: px2rem(5);\r\n    font-size: px2rem(15);\r\n    font-family: Source Han Sans CN;\r\n    font-weight: 500;\r\n    color: #ffffff;\r\n  }\r\n\r\n  .dt-input {\r\n    padding: px2rem(2) px2rem(6);\r\n    margin: px2rem(5) px2rem(12);\r\n    width: px2rem(300);\r\n    height: $inputSearchHeight;\r\n    background: #edf1f5;\r\n    border-radius: px2rem(5);\r\n  }\r\n\r\n  .dt-content {\r\n    height: calc(\r\n      100% - #{px2rem(20)} - #{$headerHeight} - #{$statusBarHeight} - #{$inputSearchHeight}\r\n    );\r\n\r\n    overflow-y: auto;\r\n    // padding-bottom: px2rem(20);\r\n    .custom-tree-node {\r\n      display: flex;\r\n      align-items: center;\r\n      padding: px2rem(6) 0;\r\n      height: px2rem(40);\r\n    }\r\n  }\r\n\r\n  .dt-mainCheck {\r\n    float: left;\r\n    margin: px2rem(4) px2rem(8) 0 0;\r\n  }\r\n\r\n  .dt-word {\r\n    float: left;\r\n  }\r\n\r\n  .img-icon {\r\n    height: 20px;\r\n    margin-left: px2rem(12);\r\n  }\r\n\r\n  .dt-checkbox {\r\n    float: left;\r\n    margin-top: px2rem(18);\r\n  }\r\n\r\n  .dt-checkboxgroup {\r\n    margin-left: px2rem(26);\r\n  }\r\n\r\n  .dt-collspse {\r\n    width: 96%;\r\n    margin-left: 2%;\r\n    text-align: left;\r\n    font-family: 'PingFang-SC-Regular';\r\n    font-weight: 400;\r\n    font-size: px2rem(15);\r\n  }\r\n\r\n  .dt-item-list {\r\n    height: px2rem(58);\r\n  }\r\n\r\n  .dt-table {\r\n    width: 100%;\r\n    height: 85%;\r\n    overflow-y: auto;\r\n  }\r\n}\r\n\r\n.dt-buttonBox {\r\n  background-color: #f5f5f5;\r\n  height: px2rem(50);\r\n  position: relative;\r\n  z-index: 2;\r\n  .dt-submitButton {\r\n    position: absolute;\r\n    right: px2rem(10);\r\n    margin: px2rem(10) 0;\r\n  }\r\n}\r\n/deep/ .van-icon__image {\r\n  height: px2rem(10);\r\n  width: px2rem(6.5);\r\n}\r\n\r\n/deep/ .van-cell__title span {\r\n  color: red;\r\n  // margin-left: px2rem(10);\r\n  font-family: 'PingFang-SC-Regular';\r\n  font-weight: 400;\r\n  color: #2e2f38;\r\n}\r\n\r\n/deep/ .el-tree-node__content {\r\n  height: 100%;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./checkAddressBook.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./checkAddressBook.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./checkAddressBook.vue?vue&type=template&id=7bc407c4&scoped=true&\"\nimport script from \"./checkAddressBook.vue?vue&type=script&lang=js&\"\nexport * from \"./checkAddressBook.vue?vue&type=script&lang=js&\"\nimport style0 from \"./checkAddressBook.vue?vue&type=style&index=0&id=7bc407c4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7bc407c4\",\n  null\n  \n)\n\nexport default component.exports","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAQCAYAAAAvf+5AAAAA5klEQVQoU4XSMS5EURiG4fdlCWIBMsEuJiahGzRaBckUFkBCo5haYQcajSgUtCIkqCUqKxAbEIpPjtyRK3fuzClPnpzv/78cmXKS7AGLTnJJhsA+sNsKk5wD60BfvW/AJLPAA7AArKqvJfUfTDIPPAOfwIr6MRrtDyZZAh6B8kJ56bs+/y9M0gOugQt1Z9yCJtksADhRj9paKLBsdgmcqgetsIruAjfAlbo9Nnp0maQDPAFvQE/9aixTw3MVDtBV3xv11PAMcAcsA2vqS6PwelSSM2AL2FBvp32KY+AQGEyEVSODMsYPY2xP1hlXd/QAAAAASUVORK5CYII=\"","/*\r\n * @Description:\r\n * @Author: GeChang\r\n * @Github: https://github.com/hzylyh\r\n * @Date: 2021-01-13 13:56:28\r\n * @LastEditors: yanxiao\r\n */\r\nimport myrequest from '@/utils/axios'\r\n// 引入Im接口的前缀\r\nimport { IM_BASE_API } from \"@/utils/ImConfig\";\r\n\r\n// 获取通讯录\r\nexport function getDeptList (params) {\r\n  return myrequest({\r\n    url: IM_BASE_API + '/scooper-core-rest/data/contacts/orgDeptManage/listTreeDeptByParent',\r\n    method: 'GET',\r\n    params: params\r\n  })\r\n}\r\n\r\n\r\n// 根据通讯录id获取用户名\r\nexport function getUserNameById (params) {\r\n  return myrequest({\r\n    url: IM_BASE_API + '/scooper-core-rest/data/contacts/orgMemberManage/listOrgMember',\r\n    method: 'GET',\r\n    params: params\r\n  })\r\n}","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./checkAddressBook.vue?vue&type=style&index=0&id=7bc407c4&lang=scss&scoped=true&\"","'use strict';\nvar $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar createProperty = require('../internals/create-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('slice');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('slice', { ACCESSORS: true, 0: 0, 1: 2 });\n\nvar SPECIES = wellKnownSymbol('species');\nvar nativeSlice = [].slice;\nvar max = Math.max;\n\n// `Array.prototype.slice` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.slice\n// fallback for not array-like ES3 strings and DOM objects\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  slice: function slice(start, end) {\n    var O = toIndexedObject(this);\n    var length = toLength(O.length);\n    var k = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n    var Constructor, result, n;\n    if (isArray(O)) {\n      Constructor = O.constructor;\n      // cross-realm fallback\n      if (typeof Constructor == 'function' && (Constructor === Array || isArray(Constructor.prototype))) {\n        Constructor = undefined;\n      } else if (isObject(Constructor)) {\n        Constructor = Constructor[SPECIES];\n        if (Constructor === null) Constructor = undefined;\n      }\n      if (Constructor === Array || Constructor === undefined) {\n        return nativeSlice.call(O, k, fin);\n      }\n    }\n    result = new (Constructor === undefined ? Array : Constructor)(max(fin - k, 0));\n    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n    result.length = n;\n    return result;\n  }\n});\n"],"sourceRoot":""}