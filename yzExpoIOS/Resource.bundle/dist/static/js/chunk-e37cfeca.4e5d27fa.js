(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e37cfeca"],{"6e7d":function(t,e,a){},"81c1":function(t,e,a){"use strict";a("6e7d")},ed15:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("van-row",{staticStyle:{height:"100%"}},[a("van-row",{staticClass:"dt-title"},[a("van-col",{attrs:{span:"2"}},[a("van-icon",{staticClass:"dt-back",attrs:{name:"arrow-left"},on:{click:t.back}})],1),a("van-col",{attrs:{span:"20"}},[a("p",{staticClass:"dt-home-shouye"},[t._v("任务详情")])])],1),a("van-row",{staticClass:"dt-content"},[a("van-row",{staticClass:"dt-table"},[a("van-row",{staticClass:"dt-top"},[a("van-col",{staticClass:"dt-item-title"},[t._v("任务编号：")]),a("div",{staticClass:"dt-item-content"},[t._v(t._s(t.task.TaskCode))])],1),a("van-row",{staticClass:"dt-top"},[a("van-col",{staticClass:"dt-item-title"},[t._v("任务标题：")]),a("div",{staticClass:"dt-item-content"},[t._v(t._s(t.task.TaskTitle))])],1),a("van-row",{staticClass:"dt-top"},[a("van-col",{staticClass:"dt-item-title"},[t._v("任务内容：")]),a("div",{staticClass:"dt-item-content"},[t._v(t._s(t.task.TaskContent))])],1),a("van-row",{staticClass:"dt-top"},[a("van-col",{staticClass:"dt-item-title"},[t._v("任务状态：")]),a("div",{staticClass:"dt-item-content"},[t._v(t._s(t._f("filteOrderTStatus")(t.task.TaskStatus)))])],1),a("van-row",{staticClass:"dt-top"},[a("van-col",{staticClass:"dt-item-title"},[t._v("提交人：")]),a("div",{staticClass:"dt-item-content"},[t._v(t._s(t.task.SubmitUserName))])],1),a("van-row",{staticClass:"dt-top"},[a("van-col",{staticClass:"dt-item-title"},[t._v("提交时间：")]),a("div",{staticClass:"dt-item-content"},[t._v(t._s(t._f("filteDate")(t.task.SubmitTime)))])],1),a("van-row",{staticClass:"dt-top"},[a("van-col",{staticClass:"dt-item-title"},[t._v("审批人：")]),a("div",{staticClass:"dt-item-content"},[t._v(t._s(t.task.ExamineUserName))])],1),a("van-row",{staticClass:"dt-top"},[a("van-col",{staticClass:"dt-item-title"},[t._v("发布时间：")]),a("div",{staticClass:"dt-item-content"},[t._v(t._s(t._f("filteDate")(t.task.SendTime)))])],1),a("van-row",{staticClass:"dt-top",on:{click:t.HaveRead}},[a("van-col",{staticClass:"dt-item-title"},[t._v("已阅：")]),a("div",{staticClass:"dt-item-content"},[t._v(t._s(t.haveRead))])],1),a("van-row",{staticClass:"dt-top",on:{click:t.NotRead}},[a("van-col",{staticClass:"dt-item-title"},[t._v("未阅：")]),a("div",{staticClass:"dt-item-content"},[t._v(t._s(t.notRead))])],1)],1)],1)],1)},i=[],n=(a("c975"),a("ac1f"),a("5319"),a("32c7")),o={components:{},data:function(){return{task:{},notRead:0,haveRead:0}},filters:{filteDate:function(t){if(t)return t.replace("T"," ")},filteOrderTStatus:function(t){var e={1:"待审核",2:"已审核",3:"已驳回",4:"已完成"};return e[t]}},computed:{},watch:{},created:function(){},mounted:function(){this.getInfo()},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){},methods:{getInfo:function(){var t=this;1==this.$route.query.formType||2==this.$route.query.formType?Object(n["a"])({ID:this.$route.query.ID}).then((function(e){t.task=e.Data.ContentList[0],t.getTaskuser(),t.testCoupleBack()})):3!=this.$route.query.formType&&4!=this.$route.query.formType||Object(n["b"])({ID:this.$route.query.ID}).then((function(e){t.task=e.Data.ContentList[0],t.getTaskuser(),t.testCoupleBack()}))},getTaskuser:function(){var t=this,e="";1==this.$route.query.formType||2==this.$route.query.formType?e=this.task.ID:3!=this.$route.query.formType&&4!=this.$route.query.formType||(e=this.task.TaskId);var a={TaskId:e,ReadStatus:0,PageSize:1,PageIndex:1},s={TaskId:e,ReadStatus:1,PageSize:1,PageIndex:1};Object(n["b"])(a).then((function(e){t.notRead=e.Data.TotalCount})),Object(n["b"])(s).then((function(e){t.haveRead=e.Data.TotalCount}))},testCoupleBack:function(){var t={ID:this.task.ID,OrganizationId:null,TaskId:this.task.TaskId,BackInfo:"",BackTime:new Date,ReadStatus:1,ReceiveUserId:JSON.parse(localStorage.getItem("userInfo")).uid,ReceiveUserName:JSON.parse(localStorage.getItem("userInfo")).real_name,DealStatus:1,Validity:1};Object(n["c"])(t).then((function(t){console.log("任务反馈返回参数",t)}))},getIsAdmin:function(){if(!localStorage.getItem("roleInfoList"))return!1;var t=JSON.parse(localStorage.getItem("roleInfoList"));return-1!=t.indexOf("APProleKey")},Home:function(){this.$router.push({name:"Home"})},HaveRead:function(){this.getIsAdmin()&&this.$router.push({name:"TaskHaveRead",query:{ID:this.task.ID}})},NotRead:function(){this.getIsAdmin()&&this.$router.push({name:"TaskNotRead",query:{ID:this.task.ID}})},back:function(){this.$store.commit("active",0),history.back(-1)}}},c=o,r=(a("81c1"),a("2877")),l=Object(r["a"])(c,s,i,!1,null,"4bc29f68",null);e["default"]=l.exports}}]);
//# sourceMappingURL=chunk-e37cfeca.4e5d27fa.js.map