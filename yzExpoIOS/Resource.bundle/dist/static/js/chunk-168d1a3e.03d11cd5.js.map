{"version":3,"sources":["webpack:///./src/views/myTask/taskHead/index.vue?bab1","webpack:///src/views/myTask/taskHead/index.vue","webpack:///./src/views/myTask/taskHead/index.vue?accd","webpack:///./src/views/myTask/taskHead/index.vue","webpack:///./src/views/myTask/taskHead/index.vue?9e0c"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","staticClass","attrs","on","back","_v","model","value","callback","$$v","active","expression","totalCount1","form1","_e","totalCount2","form2","isAdmin","totalCount3","form3","totalCount4","form4","staticRenderFns","components","data","sendForm","TaskTitle","TaskStatus","ExamineUserId","JSON","parse","localStorage","getItem","uid","PageSize","PageIndex","TaskStatuss","ReceiveUserId","ReadStatus","computed","watch","created","getIsAdmin","mounted","initTotalCount","$store","state","beforeCreate","beforeMount","beforeUpdate","updated","beforeDestroy","destroyed","activated","methods","roleInfoList","indexOf","commit","history","component"],"mappings":"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","file":"static/js/chunk-168d1a3e.03d11cd5.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('van-row',{staticStyle:{\"height\":\"100%\"}},[_c('van-row',{staticClass:\"dt-title\",attrs:{\"type\":\"flex\",\"align\":\"center\"}},[_c('van-col',{attrs:{\"span\":\"2\"}},[_c('van-icon',{staticClass:\"dt-back\",attrs:{\"name\":\"arrow-left\"},on:{\"click\":_vm.back}})],1),_c('van-col',{attrs:{\"span\":\"20\"}},[_c('p',{staticClass:\"dt-home-shouye\"},[_vm._v(\"我的任务\")])])],1),_c('van-tabs',{model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},[(_vm.isAdmin)?_c('van-tab',{attrs:{\"title\":'待审核('+_vm.totalCount1+')'}},[_c('orderList',{attrs:{\"sendForm\":_vm.form1,\"formType\":1}})],1):_vm._e(),(_vm.isAdmin)?_c('van-tab',{attrs:{\"title\":'已审核('+_vm.totalCount2+')'}},[_c('orderList',{attrs:{\"sendForm\":_vm.form2,\"formType\":2}})],1):_vm._e(),(!_vm.isAdmin)?_c('van-tab',{attrs:{\"title\":'未阅('+_vm.totalCount3+')'}},[_c('orderList',{attrs:{\"sendForm\":_vm.form3,\"formType\":3}})],1):_vm._e(),(!_vm.isAdmin)?_c('van-tab',{attrs:{\"title\":'已阅('+_vm.totalCount4+')'}},[_c('orderList',{attrs:{\"sendForm\":_vm.form4,\"formType\":4}})],1):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\r\n * @Description: \r\n * @Author: yanxiao\r\n * @Github: https://github.com/hzylyh\r\n * @Date: 2021-01-07 21:33:34\r\n * @LastEditors: yanxiao\r\n-->\r\n<!-- 我的任务头部 -->\r\n<template>\r\n  <van-row style=\"height:100%\">\r\n    <!-- 顶部蓝色框首页 -->\r\n    <van-row type=\"flex\"\r\n             align=\"center\"\r\n             class=\"dt-title\">\r\n      <van-col span=\"2\">\r\n        <van-icon class=\"dt-back\"\r\n                  @click=\"back\"\r\n                  name=\"arrow-left\" />\r\n\r\n      </van-col>\r\n      <van-col span=\"20\">\r\n        <p class=\"dt-home-shouye\">我的任务</p>\r\n      </van-col>\r\n    </van-row>\r\n    <van-tabs v-model=\"active\">\r\n      <van-tab v-if=\"isAdmin\"\r\n               :title=\"'待审核('+totalCount1+')'\">\r\n        <orderList :sendForm=\"form1\"\r\n                   :formType=\"1\">\r\n        </orderList>\r\n      </van-tab>\r\n      <van-tab v-if=\"isAdmin\"\r\n               :title=\"'已审核('+totalCount2+')'\">\r\n        <orderList :sendForm=\"form2\"\r\n                   :formType=\"2\">\r\n        </orderList>\r\n      </van-tab>\r\n      <van-tab v-if=\"!isAdmin\"\r\n               :title=\"'未阅('+totalCount3+')'\">\r\n        <orderList :sendForm=\"form3\"\r\n                   :formType=\"3\">\r\n        </orderList>\r\n      </van-tab>\r\n      <van-tab v-if=\"!isAdmin\"\r\n               :title=\"'已阅('+totalCount4+')'\">\r\n        <orderList :sendForm=\"form4\"\r\n                   :formType=\"4\">\r\n        </orderList>\r\n      </van-tab>\r\n    </van-tabs>\r\n  </van-row>\r\n</template>\r\n\r\n<script>\r\n//这里可以导入其他文件（比如：组件，工具js，第三方插件js，json文件，图片文件等等）\r\n//例如：import 《组件名称》 from '《组件路径》';\r\nimport {\r\n  GetPageContentByConditions, // 任务查询\r\n  GetTaskuser  // 查询用户已阅未阅列表（任务下发记录查询）\r\n} from \"@/api/testApi\";\r\nimport orderList from \"@/views/myTask/taskList\";\r\nexport default {\r\n  //import引入的组件需要注入到对象中才能使用\r\n  components: { orderList },\r\n  data () {\r\n    //这里存放数据\r\n    return {\r\n      // form: {\r\n      //   // TaskCode: \"\", // 任务编码\r\n      //   TaskTitle: \"\",  // 任务名称\r\n      //   TaskStatus: 2,  // 任务状态（1:待审核.2:已审核.3.已驳回,4.已完成)\r\n      //   // SubmitUserId: \"\",  // 提交人\r\n      //   // ExamineUserId: \"\", // 审核人\r\n      //   //SendUserId: null, // 下发人id Int\r\n      //   PageSize: 20, // 默认20 Int\r\n      //   PageIndex: 0 // 默认1 Int\r\n      // },\r\n      sendForm: {},\r\n      form1: { // 待审核\r\n        TaskTitle: \"\",  // 任务名称\r\n        TaskStatus: 1,  // 任务状态（1:待审核.2:已审核.3.已驳回,4.已完成)\r\n        ExamineUserId: JSON.parse(localStorage.getItem(\"userInfo\")).uid, // 审核人id\r\n        PageSize: 20, // 条数 Int 默认20\r\n        PageIndex: 0, // 页码 Int 默认1\r\n      },\r\n      form2: { // 已审核\r\n        TaskTitle: \"\",  // 任务名称\r\n        TaskStatuss: [2, 3],  // 任务状态（1:待审核.2:已审核.3.已驳回,4.已完成)\r\n        ExamineUserId: JSON.parse(localStorage.getItem(\"userInfo\")).uid, // 审核人id\r\n        PageSize: 20, // 条数 Int 默认20\r\n        PageIndex: 0, // 页码 Int 默认1\r\n      },\r\n      form3: { // 未阅\r\n        /**获取用户已阅未阅列表的参数，统一认证信息接口通了再使用 */\r\n        ReceiveUserId: JSON.parse(localStorage.getItem(\"userInfo\")).uid, // 接受人usid\r\n        ReadStatus: 0, // 阅读状态 0.未阅读，1.已阅读\r\n        PageSize: 20, // 条数 Int 默认20\r\n        PageIndex: 0, // 页码 Int 默认1\r\n      },\r\n      form4: { // 已阅\r\n        /**获取用户已阅未阅列表的参数，统一认证信息接口通了再使用 */\r\n        ReceiveUserId: JSON.parse(localStorage.getItem(\"userInfo\")).uid, // 接受人usid\r\n        ReadStatus: 1, // 阅读状态 0.未阅读，1.已阅读\r\n        PageSize: 20, // 条数 Int 默认20\r\n        PageIndex: 0, // 页码 Int 默认1\r\n      },\r\n      totalCount1: 0, // 数据总数\r\n      totalCount2: 0, // 数据总数\r\n      totalCount3: 0, // 数据总数\r\n      totalCount4: 0, // 数据总数\r\n      isAdmin: true,  // 是否为管理员\r\n      active: 0,//tab状态\r\n    };\r\n  },\r\n  //监听属性 类似于data概念\r\n  computed: {},\r\n  //监控data中的数据变化\r\n  watch: {},\r\n  //生命周期 - 创建完成（可以访问当前this实例）\r\n  created () {\r\n    this.getIsAdmin()\r\n  },\r\n  //生命周期 - 挂载完成（可以访问DOM元素）\r\n  mounted () {\r\n    this.initTotalCount()\r\n    this.active = this.$store.state.active\r\n  },\r\n  beforeCreate () { }, //生命周期 - 创建之前\r\n  beforeMount () { }, //生命周期 - 挂载之前\r\n  beforeUpdate () { }, //生命周期 - 更新之前\r\n  updated () { }, //生命周期 - 更新之后\r\n  beforeDestroy () { }, //生命周期 - 销毁之前\r\n  destroyed () { }, //生命周期 - 销毁完成\r\n  activated () { }, //如果页面有keep-alive缓存功能，这个函数会触发\r\n  //方法集合\r\n  methods: {\r\n    // 工单查询\r\n    initTotalCount () {\r\n      GetPageContentByConditions(this.form1).then(response => {\r\n        this.totalCount1 = response.Data.TotalCount\r\n      })\r\n      GetPageContentByConditions(this.form2).then(response => {\r\n        this.totalCount2 = response.Data.TotalCount\r\n      })\r\n      // GetPageContentByConditions(this.form3).then(response => {\r\n      //   this.totalCount3 = response.Data.TotalCount\r\n      // })\r\n      // GetPageContentByConditions(this.form4).then(response => {\r\n      //   this.totalCount4 = response.Data.TotalCount\r\n      // })\r\n      /**获取用户已阅未阅列表的接口，统一认证信息接口通了再使用 */\r\n      GetTaskuser(this.form3).then(response => {\r\n        this.totalCount3 = response.Data.TotalCount\r\n      })\r\n      GetTaskuser(this.form4).then(response => {\r\n        this.totalCount4 = response.Data.TotalCount\r\n      })\r\n    },\r\n\r\n    // 判断用户是否为管理员\r\n    getIsAdmin () {\r\n      if (!localStorage.getItem(\"roleInfoList\")) {\r\n        this.isAdmin = true\r\n        return\r\n      }\r\n      let roleInfoList = JSON.parse(localStorage.getItem(\"roleInfoList\"))\r\n      if (roleInfoList.indexOf(\"APProleKey\") != -1) {\r\n        this.isAdmin = true\r\n      } else {\r\n        this.isAdmin = false\r\n      }\r\n    },\r\n    // 返回首页按钮\r\n    back () {\r\n      this.$store.commit(\"active\", 0)\r\n      javascript: history.back(-1);\r\n    }\r\n  },\r\n}\r\n</script>\r\n<style lang='scss' scoped>\r\n//@import url(); 引入公共css类\r\n@import \"../../../styles/dimens\";\r\n.dt-title {\r\n  width: 100%;\r\n  height: $headerHeight;\r\n  padding-top: $statusBarHeight;\r\n  background-color: #5870f8;\r\n}\r\n.dt-back {\r\n  height: px2rem(14);\r\n  width: px2rem(14);\r\n  margin-left: px2rem(6);\r\n  color: #fff;\r\n  font-size: px2rem(18);\r\n}\r\n.dt-home-shouye {\r\n  font-size: px2rem(17);\r\n  font-family: \"SourceHanSansCN-Medium\";\r\n  color: #ecedf2;\r\n}\r\n.van-tabs {\r\n  height: calc(100% - #{$headerHeight} - #{$statusBarHeight});\r\n}\r\n/deep/.van-tabs__content {\r\n  height: calc(100% - #{$thirdHeight});\r\n}\r\n/deep/.van-tab__pane,\r\n.van-tab__pane-wrapper {\r\n  height: 100%;\r\n}\r\n/deep/.van-tabs__line {\r\n  background-color: #5870f8;\r\n}\r\n/deep/.van-tab--active > span {\r\n  color: #5870f8;\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=0d0c7818&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=0d0c7818&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0d0c7818\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=0d0c7818&lang=scss&scoped=true&\""],"sourceRoot":""}