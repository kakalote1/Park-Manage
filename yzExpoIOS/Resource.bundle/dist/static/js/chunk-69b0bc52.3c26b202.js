(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-69b0bc52"],{"4bfa":function(t,e,a){"use strict";a("b9b3")},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,a){var n=a("1d80"),r=a("5899"),i="["+r+"]",s=RegExp("^"+i+i+"*"),o=RegExp(i+i+"*$"),c=function(t){return function(e){var a=String(n(e));return 1&t&&(a=a.replace(s,"")),2&t&&(a=a.replace(o,"")),a}};t.exports={start:c(1),end:c(2),trim:c(3)}},"8ca0":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("van-row",[a("van-row",{staticClass:"dt-title",attrs:{type:"flex",align:"center"}},[a("van-col",{attrs:{span:"2"}},[a("van-icon",{staticClass:"dt-back",attrs:{name:"arrow-left"},on:{click:t.back}})],1),a("van-col",{attrs:{span:"20"}},[a("p",{staticClass:"dt-home-shouye"},[t._v("考勤统计分析")])])],1),a("van-row",{staticClass:"dt-content"},[a("van-row",{staticClass:"dt-nav"},[a("van-col",{staticClass:"dt-data-box1",attrs:{span:8}},[a("div",{staticClass:"dt-font"},[t._v("志愿者")]),a("div",{staticClass:"dt-data"},[t._v(t._s(t.zhiyuanzhe))])]),a("van-col",{staticClass:"dt-data-box2",attrs:{span:8}},[a("div",{staticClass:"dt-font"},[t._v("安保")]),a("div",{staticClass:"dt-data"},[t._v(t._s(t.anbao))])]),a("van-col",{staticClass:"dt-data-box3",attrs:{span:8}},[a("div",{staticClass:"dt-font"},[t._v("保洁")]),a("div",{staticClass:"dt-data"},[t._v(t._s(t.baojie))])])],1),a("van-row",[a("van-row",[a("div",{staticClass:"dt-chartTitle"},[a("span",[t._v("考勤分析(最近七日)")])])]),a("van-row",[a("div",{staticStyle:{width:"100%",height:"212.5px"},attrs:{id:"echarts"}})])],1)],1)],1)},r=[],i=(a("a9e3"),a("96cf"),a("1da1")),s=a("a27e"),o=a("a139");function c(t){return Object(s["a"])({url:o["b"]+"/msapi/v1.0/YZProjectService/tb_project_checkwork/GetCheckDutySatatic",method:"post",data:t})}function u(t){return Object(s["a"])({url:o["b"]+"/msapi/v1.0/BaseDataService/UniformConfig/GetDataBySearch",method:"post",data:t})}function l(t){return Object(s["a"])({url:o["b"]+"/msapi/v1.0/YZProjectService/tb_project_checkwork/GetCheckDutyRealTimeSatatic",method:"post",data:t})}var d={components:{},data:function(){return{anbao:"",baojie:"",zhiyuanzhe:"",option:{},valueList:{volunteerValue:[0,0,0,0,0,0,0],securityValue:[0,0,0,0,0,0,0],cleanValue:[0,0,0,0,0,0,0],dateValue:[0,0,0,0,0,0,0]}}},computed:{},watch:{},created:function(){},mounted:function(){this.setEcharts(),this.getData(),this.getSecond()},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){},methods:{getData:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a={SysCode:"HomeView",Key:"CheckWorkStatic"},u(a).then((function(e){var n=e.Data.UValue,r=JSON.parse(n),i=0,s=0,o=0;for(var c in r)"保洁"==r[c].Description?o=r[c].ItemValue:"志愿者"==r[c].Description?i=r[c].ItemValue:"安保"==r[c].Description&&(s=r[c].ItemValue);l(a).then((function(e){var a=e.Data,n=0,r=0,c=0;for(var u in a)"服务保障"==a[u].CheckUserDuty?n=a[u].Expend1:"志愿者"==a[u].CheckUserDuty?r=a[u].Expend1:"安保"==a[u].CheckUserDuty&&(c=a[u].Expend1);var l=Number(i)+r,d=Number(s)+c,f=Number(o)+n;t.zhiyuanzhe=l,t.anbao=d,t.baojie=f}))}));case 2:case"end":return e.stop()}}),e)})))()},getSecond:function(){var t=this,e=new Date(new Date((new Date).toLocaleDateString()).setDate((new Date).getDate()-6)).format("yyyy-MM-ddT00:00:00"),a=(new Date).format("yyyy-MM-ddT23:59:59"),n={CheckBeginDate:e,CheckEndDate:a};c(n).then((function(e){for(var a=e.Data,n=[],r=[],i=6;i>=0;i--){var s=new Date(new Date((new Date).toLocaleDateString()).setDate((new Date).getDate()-i)).format("yyyy-MM-ddT00:00:00");n.push(s);var o=new Date(new Date((new Date).toLocaleDateString()).setDate((new Date).getDate()-i)).format("MM-dd");r.push(o)}var c=[0,0,0,0,0,0,0],u=[0,0,0,0,0,0,0],l=[0,0,0,0,0,0,0];for(var d in a){var f=a[d].CheckDate;for(var v in n)if(n[v]==f){var h=a[d].CheckUserDuty;"园内保洁"==h||"园外保洁"==h?c[v]+=a[d].Expend1:"园区游客服务"==h?u[v]+=a[d].Expend1:"园内安保"!=h&&"园外安保"!=h||(l[v]+=a[d].Expend1)}}var p={volunteerValue:u,securityValue:l,cleanValue:c,dateValue:r};t.valueList=p,t.setEcharts()}))},setEcharts:function(){var t=this.$echarts.init(document.getElementById("echarts")),e={legend:{data:["志愿者","安保","保洁"],x:"right",y:"bottom",itemHeight:12,textStyle:{fontSize:12,color:"#333333"}},grid:{left:4,top:14,right:4,bottom:24,containLabel:!0},xAxis:{type:"category",data:this.valueList.dateValue,axisTick:{alignWithLabel:!0},axisLabel:{fontSize:11,interval:0}},yAxis:{type:"value",splitNumber:9,minInterval:1,axisLabel:{formatter:"{value}人"}},series:[{name:"志愿者",data:this.valueList.volunteerValue,type:"bar",stack:"0",label:{show:!1,position:"insideRight"}},{name:"安保",data:this.valueList.securityValue,type:"bar",stack:"0",label:{show:!1,position:"insideRight"}},{name:"保洁",data:this.valueList.cleanValue,type:"bar",stack:"0",label:{show:!1,position:"insideRight"}}]};t.setOption(e)},Home:function(){this.$router.push({name:"Home"})},back:function(){this.$store.commit("active",0),history.back(-1)}}},f=d,v=(a("4bfa"),a("2877")),h=Object(v["a"])(f,n,r,!1,null,"c917cb04",null);e["default"]=h.exports},a9e3:function(t,e,a){"use strict";var n=a("83ab"),r=a("da84"),i=a("94ca"),s=a("6eeb"),o=a("5135"),c=a("c6b6"),u=a("7156"),l=a("c04e"),d=a("d039"),f=a("7c73"),v=a("241c").f,h=a("06cf").f,p=a("9bf2").f,b=a("58a8").trim,m="Number",y=r[m],D=y.prototype,w=c(f(D))==m,g=function(t){var e,a,n,r,i,s,o,c,u=l(t,!1);if("string"==typeof u&&u.length>2)if(u=b(u),e=u.charCodeAt(0),43===e||45===e){if(a=u.charCodeAt(2),88===a||120===a)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+u}for(i=u.slice(2),s=i.length,o=0;o<s;o++)if(c=i.charCodeAt(o),c<48||c>r)return NaN;return parseInt(i,n)}return+u};if(i(m,!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var C,k=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof k&&(w?d((function(){D.valueOf.call(a)})):c(a)!=m)?u(new y(g(e)),a,k):g(e)},x=n?v(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0;x.length>E;E++)o(y,C=x[E])&&!o(k,C)&&p(k,C,h(y,C));k.prototype=D,D.constructor=k,s(r,m,k)}},b9b3:function(t,e,a){}}]);
//# sourceMappingURL=chunk-69b0bc52.3c26b202.js.map