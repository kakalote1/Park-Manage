{"version":3,"sources":["webpack:///./src/components/headPortrait/headPortrait.vue?a2e1","webpack:///./src/assets/img/通讯录消息.png","webpack:///./src/components/headPortrait/headPortrait.vue?ba35","webpack:///src/components/headPortrait/headPortrait.vue","webpack:///./src/components/headPortrait/headPortrait.vue?73da","webpack:///./src/components/headPortrait/headPortrait.vue","webpack:///./src/views/addressBook/index.vue?9d7a","webpack:///./src/assets/img/通讯录视频.png","webpack:///./src/components/userInformation/index.vue?3098","webpack:///src/components/userInformation/index.vue","webpack:///./src/components/userInformation/index.vue?1005","webpack:///./src/components/userInformation/index.vue","webpack:///./src/assets/img/通讯录语音.png","webpack:///./src/components/userInformation/index.vue?85df","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./src/api/addressBook.js","webpack:///./src/views/addressBook/index.vue?53e6","webpack:///src/views/addressBook/index.vue","webpack:///./src/views/addressBook/index.vue?60a1","webpack:///./src/views/addressBook/index.vue","webpack:///./node_modules/core-js/modules/es.array.slice.js"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","class","sizeClass","_v","_s","_f","username","staticRenderFns","components","props","filters","filtName","name","length","slice","data","computed","watch","created","size","mounted","beforeCreate","beforeMount","beforeUpdate","updated","beforeDestroy","destroyed","activated","methods","component","staticClass","attrs","information","real_name","department","mobile","email","headPortrait","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","match","error","getDeptList","params","myrequest","url","IM_BASE_API","method","getUserNameById","loadNode","on","touchUser","scopedSlots","_u","key","fn","ref","dataType","staticStyle","_e","closePop","model","value","callback","$$v","showPop","expression","seedMessage","audioCall","videoCall","userInformation","contactList","node","id","children","label","isLeaf","judgeLeaf","popTel","userId","$store","commit","extraDataMap","memMsgTel","isParent","uid","JSON","parse","localStorage","getItem","response","deptExt","info","memEmail","memMobile","console","depList","undefined","childNum","level","_this","getNodes","then","resolve","Home","$router","push","handleNodeClick","log","transformData","$dialog","confirm","message","window","android","voiceChat","webkit","messageHandlers","makeAudioCall","postMessage","videoChat","makeVideoCall","objectId","res","code","$","isObject","isArray","toAbsoluteIndex","toLength","toIndexedObject","createProperty","wellKnownSymbol","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","ACCESSORS","0","1","SPECIES","nativeSlice","max","Math","target","proto","forced","start","end","Constructor","result","n","O","k","fin","constructor","Array"],"mappings":"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","file":"static/js/chunk-304aef1f.59318feb.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./headPortrait.vue?vue&type=style&index=0&id=1031c22d&lang=scss&scoped=true&\"","module.exports = __webpack_public_path__ + \"static/img/通讯录消息.f9d2a3ce.png\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:_vm.sizeClass},[_vm._v(_vm._s(_vm._f(\"filtName\")(_vm.username)))])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\r\n * @Description: \r\n * @Author: yanxiao\r\n * @Github: https://github.com/hzylyh\r\n * @Date: 2021-01-27 14:41:38\r\n * @LastEditors: yanxiao\r\n-->\r\n<!-- 头像 -->\r\n<template>\r\n  <div :class=\"sizeClass\">{{username | filtName}}</div>\r\n</template>\r\n\r\n<script>\r\n//这里可以导入其他文件（比如：组件，工具js，第三方插件js，json文件，图片文件等等）\r\n//例如：import 《组件名称》 from '《组件路径》';\r\n\r\nexport default {\r\n  //import引入的组件需要注入到对象中才能使用\r\n  components: {},\r\n  props: [\"username\", \"size\"],\r\n  filters: {\r\n    filtName (name) {\r\n      if (!name) {\r\n        return '员工'\r\n      }\r\n      if (name.length > 2) {\r\n        return name.slice(name.length - 2, name.length)\r\n      } else {\r\n        return name\r\n      }\r\n    }\r\n  },\r\n  data () {\r\n    //这里存放数据\r\n    return {\r\n      sizeClass: ''\r\n    };\r\n  },\r\n  //监听属性 类似于data概念\r\n  computed: {},\r\n  //监控data中的数据变化\r\n  watch: {},\r\n  //生命周期 - 创建完成（可以访问当前this实例）\r\n  created () {\r\n    if (this.size == \"large\") {\r\n      this.sizeClass = \"dt-headPortrait-large\"\r\n    } else if (this.size == \"small\") {\r\n      this.sizeClass = \"dt-headPortrait-small\"\r\n    } else {\r\n      this.sizeClass = \"dt-headPortrait-small\"\r\n    }\r\n  },\r\n  //生命周期 - 挂载完成（可以访问DOM元素）\r\n  mounted () {\r\n\r\n  },\r\n  beforeCreate () { }, //生命周期 - 创建之前\r\n  beforeMount () { }, //生命周期 - 挂载之前\r\n  beforeUpdate () { }, //生命周期 - 更新之前\r\n  updated () { }, //生命周期 - 更新之后\r\n  beforeDestroy () { }, //生命周期 - 销毁之前\r\n  destroyed () { }, //生命周期 - 销毁完成\r\n  activated () { }, //如果页面有keep-alive缓存功能，这个函数会触发\r\n  //方法集合\r\n  methods: {\r\n\r\n  },\r\n}\r\n</script>\r\n<style lang='scss' scoped>\r\n//@import url(); 引入公共css类\r\n@import \"../../styles/dimens\";\r\n.dt-headPortrait-small {\r\n  height: px2rem(35);\r\n  width: px2rem(35);\r\n  background-color: #5870f8;\r\n  border-radius: px2rem(5);\r\n  line-height: px2rem(35);\r\n  text-align: center;\r\n  font-size: px2rem(10);\r\n  color: #ffffff;\r\n}\r\n.dt-headPortrait-large {\r\n  height: px2rem(50);\r\n  width: px2rem(50);\r\n  background-color: #5870f8;\r\n  border-radius: px2rem(5);\r\n  line-height: px2rem(50);\r\n  text-align: center;\r\n  font-size: px2rem(15);\r\n  font-weight: 500;\r\n  color: #ffffff;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./headPortrait.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./headPortrait.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./headPortrait.vue?vue&type=template&id=1031c22d&scoped=true&\"\nimport script from \"./headPortrait.vue?vue&type=script&lang=js&\"\nexport * from \"./headPortrait.vue?vue&type=script&lang=js&\"\nimport style0 from \"./headPortrait.vue?vue&type=style&index=0&id=1031c22d&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1031c22d\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=ddf40406&lang=scss&scoped=true&\"","module.exports = \"data:image/png;base64,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\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"dt-table\"},[_c('van-row',{staticClass:\"dt-tab-row dt-tab-rowOne\"},[_c('div',{staticClass:\"dt-item-title\"},[_vm._v(\"头像\")]),_c('div',{staticClass:\"dt-headPortrait\"},[_c('headPortrait',{attrs:{\"size\":\"small\",\"username\":_vm.information.real_name}})],1)]),_c('van-row',{staticClass:\"dt-tab-row\"},[_c('div',{staticClass:\"dt-item-title\"},[_vm._v(\"姓名\")]),_c('div',{staticClass:\"dt-item-content\"},[_vm._v(_vm._s(_vm.information.real_name))])]),_c('van-row',{staticClass:\"dt-tab-row\"},[_c('div',{staticClass:\"dt-item-title\"},[_vm._v(\"用户名\")]),_c('div',{staticClass:\"dt-item-content\"},[_vm._v(_vm._s(_vm.information.username))])]),_c('van-row',{staticClass:\"dt-tab-row\"},[_c('div',{staticClass:\"dt-item-title\"},[_vm._v(\"部门\")]),_c('div',{staticClass:\"dt-item-content\"},[_vm._v(_vm._s(_vm.department))])]),_c('van-row',{staticClass:\"dt-tab-row\"},[_c('div',{staticClass:\"dt-item-title\"},[_vm._v(\"手机号码\")]),_c('div',{staticClass:\"dt-item-content\"},[_vm._v(_vm._s(_vm.information.mobile))])]),_c('van-row',{staticClass:\"dt-tab-row\"},[_c('div',{staticClass:\"dt-item-title\"},[_vm._v(\"电子邮箱\")]),_c('div',{staticClass:\"dt-item-content\"},[_vm._v(_vm._s(_vm.information.email))])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\r\n * @Description: \r\n * @Author: yanxiao\r\n * @Github: https://github.com/hzylyh\r\n * @Date: 2021-02-25 16:37:48\r\n * @LastEditors: yanxiao\r\n-->\r\n<!-- 用户个人信息 -->\r\n<template>\r\n  <div class=\"dt-table\">\r\n    <van-row class=\"dt-tab-row dt-tab-rowOne\">\r\n      <div class=\"dt-item-title\">头像</div>\r\n      <div class=\"dt-headPortrait\">\r\n        <headPortrait size=\"small\"\r\n                      :username=\"information.real_name\"></headPortrait>\r\n      </div>\r\n    </van-row>\r\n    <van-row class=\"dt-tab-row\">\r\n      <div class=\"dt-item-title\">姓名</div>\r\n      <div class=\"dt-item-content\">{{information.real_name}}</div>\r\n    </van-row>\r\n    <van-row class=\"dt-tab-row\">\r\n      <div class=\"dt-item-title\">用户名</div>\r\n      <div class=\"dt-item-content\">{{information.username}}</div>\r\n    </van-row>\r\n    <van-row class=\"dt-tab-row\">\r\n      <div class=\"dt-item-title\">部门</div>\r\n      <div class=\"dt-item-content\">{{department}}</div>\r\n    </van-row>\r\n    <van-row class=\"dt-tab-row\">\r\n      <div class=\"dt-item-title\">手机号码</div>\r\n      <div class=\"dt-item-content\">{{information.mobile}}</div>\r\n    </van-row>\r\n    <van-row class=\"dt-tab-row\">\r\n      <div class=\"dt-item-title\">电子邮箱</div>\r\n      <div class=\"dt-item-content\">{{information.email}}</div>\r\n    </van-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n//这里可以导入其他文件（比如：组件，工具js，第三方插件js，json文件，图片文件等等）\r\n//例如：import 《组件名称》 from '《组件路径》';\r\nimport headPortrait from \"@/components/headPortrait/headPortrait\";\r\nexport default {\r\n  //import引入的组件需要注入到对象中才能使用\r\n  components: {\r\n    headPortrait,\r\n  },\r\n  props: [\"information\", \"department\"],\r\n  data () {\r\n    //这里存放数据\r\n    return {\r\n\r\n    };\r\n  },\r\n  //监听属性 类似于data概念\r\n  computed: {},\r\n  //监控data中的数据变化\r\n  watch: {},\r\n  //生命周期 - 创建完成（可以访问当前this实例）\r\n  created () {\r\n\r\n  },\r\n  //生命周期 - 挂载完成（可以访问DOM元素）\r\n  mounted () {\r\n\r\n  },\r\n  beforeCreate () { }, //生命周期 - 创建之前\r\n  beforeMount () { }, //生命周期 - 挂载之前\r\n  beforeUpdate () { }, //生命周期 - 更新之前\r\n  updated () { }, //生命周期 - 更新之后\r\n  beforeDestroy () { }, //生命周期 - 销毁之前\r\n  destroyed () { }, //生命周期 - 销毁完成\r\n  activated () { }, //如果页面有keep-alive缓存功能，这个函数会触发\r\n  //方法集合\r\n  methods: {\r\n\r\n  },\r\n}\r\n</script>\r\n<style lang='scss' scoped>\r\n//@import url(); 引入公共css类\r\n@import '../../styles/dimens';\r\n.dt-table {\r\n  display: inline-block;\r\n  width: 100%;\r\n  margin-bottom: px2rem(10);\r\n  .dt-tab-row {\r\n    width: 100%;\r\n    background-color: white;\r\n    border-bottom: 1px solid #f0f0f0;\r\n  }\r\n  .dt-tab-row:nth-child(1) {\r\n    border-top: 1px solid #f7f5f5;\r\n  }\r\n\r\n  .dt-headPortrait {\r\n    display: flex;\r\n    align-items: center;\r\n    float: right;\r\n    height: px2rem(56);\r\n    margin-right: px2rem(12.5);\r\n  }\r\n  .dt-item-title {\r\n    float: left;\r\n    height: px2rem(56);\r\n    line-height: px2rem(56);\r\n    margin: 0 0 0 px2rem(12.5);\r\n    text-align: left;\r\n    font-size: px2rem(14);\r\n    color: #707070;\r\n    font-family: 'PingFang-SC-Medium';\r\n    font-weight: 500;\r\n  }\r\n  .dt-item-content {\r\n    height: px2rem(56);\r\n    line-height: px2rem(56);\r\n    text-align: right;\r\n    margin: 0 px2rem(12.5) 0 0;\r\n    font-size: px2rem(14);\r\n    color: #4c4c4c;\r\n    font-family: 'PingFang-SC-Medium';\r\n    font-weight: 400;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=f7a0d05a&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=f7a0d05a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f7a0d05a\",\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"static/img/通讯录语音.bd79db80.png\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=f7a0d05a&lang=scss&scoped=true&\"","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.github.io/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","/*\r\n * @Description:\r\n * @Author: GeChang\r\n * @Github: https://github.com/hzylyh\r\n * @Date: 2021-01-13 13:56:28\r\n * @LastEditors: yanxiao\r\n */\r\nimport myrequest from '@/utils/axios'\r\n// 引入Im接口的前缀\r\nimport { IM_BASE_API } from \"@/utils/ImConfig\";\r\n\r\n// 获取通讯录\r\nexport function getDeptList (params) {\r\n  return myrequest({\r\n    url: IM_BASE_API + '/scooper-core-rest/data/contacts/orgDeptManage/listTreeDeptByParent',\r\n    method: 'GET',\r\n    params: params\r\n  })\r\n}\r\n\r\n\r\n// 根据通讯录id获取用户名\r\nexport function getUserNameById (params) {\r\n  return myrequest({\r\n    url: IM_BASE_API + '/scooper-core-rest/data/contacts/orgMemberManage/listOrgMember',\r\n    method: 'GET',\r\n    params: params\r\n  })\r\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('van-row',{staticClass:\"dt-chat\"},[_c('van-row',{staticClass:\"dt-title\",attrs:{\"type\":\"flex\",\"align\":\"center\"}},[_c('van-col',{attrs:{\"span\":\"2\"}}),_c('van-col',{attrs:{\"span\":\"20\"}},[_c('p',{staticClass:\"dt-chat-name\"},[_vm._v(\"通讯录\")])])],1),_c('van-row',{staticClass:\"dt-content\"},[_c('el-tree',{attrs:{\"props\":_vm.props,\"load\":_vm.loadNode,\"lazy\":\"\"},on:{\"node-click\":_vm.touchUser},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar data = ref.data;\nreturn _c('div',{staticClass:\"custom-tree-node\"},[(data.dataType === 'orgMember')?_c('div',{staticStyle:{\"display\":\"inline-block\"}},[_c('headPortrait',{attrs:{\"size\":\"small\",\"username\":data.name}})],1):_vm._e(),_c('div',{staticStyle:{\"display\":\"inline-block\",\"margin-left\":\"7px\"}},[_vm._v(_vm._s(data.name))])])}}])})],1),_c('van-popup',{staticClass:\"dt-pop\",attrs:{\"position\":\"top\"},on:{\"close\":_vm.closePop},model:{value:(_vm.showPop),callback:function ($$v) {_vm.showPop=$$v},expression:\"showPop\"}},[_c('userInformation',{attrs:{\"information\":_vm.information,\"department\":_vm.department}}),_c('div',{staticClass:\"dt-tongxun\",on:{\"click\":_vm.seedMessage}},[_c('div',{staticClass:\"imgIco\"},[_c('img',{attrs:{\"src\":require('@/assets/img/通讯录消息.png')}})]),_c('div',{staticClass:\"imgText\"},[_vm._v(\"发消息\")])]),_c('div',{staticClass:\"dt-tongxun\",on:{\"click\":_vm.audioCall}},[_c('div',{staticClass:\"imgIco\"},[_c('img',{attrs:{\"src\":require('@/assets/img/通讯录语音.png')}})]),_c('div',{staticClass:\"imgText\"},[_vm._v(\"语音通话\")])]),_c('div',{staticClass:\"dt-tongxun\",on:{\"click\":_vm.videoCall}},[_c('div',{staticClass:\"imgIco\"},[_c('img',{attrs:{\"src\":require('@/assets/img/通讯录视频.png')}})]),_c('div',{staticClass:\"imgText\"},[_vm._v(\"视频通话\")])])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- 通讯录页 -->\r\n<template>\r\n  <van-row class=\"dt-chat\">\r\n    <!-- 顶部蓝色框首页 -->\r\n    <van-row type=\"flex\"\r\n             align=\"center\"\r\n             class=\"dt-title\">\r\n      <van-col span=\"2\">\r\n\r\n      </van-col>\r\n      <van-col span=\"20\">\r\n        <p class=\"dt-chat-name\">通讯录</p>\r\n      </van-col>\r\n    </van-row>\r\n    <van-row class=\"dt-content\">\r\n      <el-tree :props=\"props\"\r\n               :load=\"loadNode\"\r\n               lazy\r\n               @node-click=\"touchUser\">\r\n        <div class=\"custom-tree-node\"\r\n             slot-scope=\"{ data }\">\r\n          <div style=\"display: inline-block\"\r\n               v-if=\"data.dataType === 'orgMember'\">\r\n            <headPortrait size=\"small\"\r\n                          :username=\"data.name\"></headPortrait>\r\n          </div>\r\n          <div style=\"display: inline-block; margin-left: 7px\">{{ data.name }}</div>\r\n        </div>\r\n      </el-tree>\r\n    </van-row>\r\n    <!-- 用户详情信息弹出层 -->\r\n    <van-popup v-model=\"showPop\"\r\n               class=\"dt-pop\"\r\n               position=\"top\"\r\n               @close=\"closePop\">\r\n      <userInformation :information=\"information\"\r\n                       :department=\"department\">\r\n      </userInformation>\r\n      <div class=\"dt-tongxun\"\r\n           @click=\"seedMessage\">\r\n        <div class=\"imgIco\">\r\n          <img :src=\"require('@/assets/img/通讯录消息.png')\">\r\n        </div>\r\n        <div class=\"imgText\">发消息</div>\r\n      </div>\r\n      <div class=\"dt-tongxun\"\r\n           @click=\"audioCall\">\r\n        <div class=\"imgIco\">\r\n          <img :src=\"require('@/assets/img/通讯录语音.png')\">\r\n        </div>\r\n        <div class=\"imgText\">语音通话</div>\r\n      </div>\r\n      <div class=\"dt-tongxun\"\r\n           @click=\"videoCall\">\r\n        <div class=\"imgIco\">\r\n          <img :src=\"require('@/assets/img/通讯录视频.png')\">\r\n        </div>\r\n        <div class=\"imgText\">视频通话</div>\r\n      </div>\r\n    </van-popup>\r\n  </van-row>\r\n</template>\r\n<script>\r\n// 获取通讯录\r\nimport {\r\n  getDeptList,\r\n  getUserNameById,\r\n} from \"@/api/addressBook\";\r\nimport {\r\n  // 根据用户名获取用户详情信息\r\n  detailByUsername,\r\n  // 获取用户所在部门列表\r\n  getDepartmentList,\r\n} from \"@/api/userApi\";\r\nimport headPortrait from \"@/components/headPortrait/headPortrait\";\r\nimport userInformation from \"@/components/userInformation\";\r\n// 提示框\r\nimport { Toast } from 'vant';\r\n// 发起会话\r\nimport { createSingleConversation } from \"@/api/message\";\r\nvar _self = '';\r\nexport default {\r\n  props: ['username'],\r\n  //import引入的组件需要注入到对象中才能使用\r\n  components: {\r\n    headPortrait,\r\n    userInformation,\r\n  },\r\n  filters: {\r\n    filtName (name) {\r\n      if (name.length > 2) {\r\n        return name.slice(name.length - 2, name.length)\r\n      } else {\r\n        return name\r\n      }\r\n    }\r\n  },\r\n  data () {\r\n    //这里存放数据\r\n    return {\r\n      // 联系人列表\r\n      contactList: [],\r\n      // 查询通讯录的第一个条件\r\n      node: {\r\n        id: 0,\r\n        children: []\r\n      },\r\n      props: {\r\n        label: 'name',\r\n        children: 'zones',\r\n        isLeaf: this.judgeLeaf\r\n      },\r\n      showPop: false,\r\n      information: {},\r\n      department: '',\r\n      popTel: '',\r\n      userId: ''\r\n    };\r\n  },\r\n  //监听属性 类似于data概念\r\n  computed: {},\r\n  //监控data中的数据变化\r\n  watch: {},\r\n  //生命周期 - 创建完成（可以访问当前this实例）\r\n  created () {\r\n    _self = this;\r\n    this.$store.commit(\"bottomNav\", 2)\r\n  },\r\n  //生命周期 - 挂载完成（可以访问DOM元素）\r\n  mounted () {\r\n  },\r\n\r\n  beforeCreate () {\r\n  }, //生命周期 - 创建之前\r\n  beforeMount () {\r\n  }, //生命周期 - 挂载之前\r\n  beforeUpdate () {\r\n  }, //生命周期 - 更新之前\r\n  updated () {\r\n  }, //生命周期 - 更新之后\r\n  beforeDestroy () {\r\n  }, //生命周期 - 销毁之前\r\n  destroyed () {\r\n  }, //生命周期 - 销毁完成\r\n  activated () {\r\n  }, //如果页面有keep-alive缓存功能，这个函数会触发\r\n  //方法集合\r\n  methods: {\r\n\r\n    touchUser (data) {\r\n      if (data.extraDataMap) {\r\n        this.popTel = data.extraDataMap.memMsgTel\r\n      }\r\n      this.userId = data.id\r\n      if (data.isParent) {\r\n        return\r\n      }\r\n      let info = {\r\n        uid: JSON.parse(localStorage.getItem(\"userInfo\")).uid,\r\n        id: data.id,\r\n      }\r\n      getUserNameById(info).then(response => {\r\n        let info = {}\r\n        if (response.data[0].deptExt) {\r\n          info = {\r\n            username: response.data[0].deptExt\r\n          }\r\n        } else if (response.data[0].memEmail) {\r\n          info = {\r\n            username: response.data[0].memEmail\r\n          }\r\n        } else if (response.data[0].memMobile) {\r\n          info = {\r\n            username: response.data[0].memMobile\r\n          }\r\n        } else {\r\n          console.error(\"没有令牌\");\r\n        }\r\n        detailByUsername(info).then(response => {\r\n          this.showPop = true\r\n          getDepartmentList({ uid: response.data.uid }).then(response => {\r\n            let depList = response.data.list\r\n            if (depList.length) {\r\n              this.department = depList[depList.length - 1].name\r\n            } else {\r\n              this.department = ''\r\n            }\r\n          })\r\n          this.information = response.data\r\n\r\n        })\r\n      })\r\n    },\r\n\r\n    closePop () {\r\n      this.information = {}\r\n      this.department = ''\r\n      this.popTel = ''\r\n      this.userId = ''\r\n    },\r\n\r\n    judgeLeaf (data) {\r\n      if (data.childNum === undefined || data.childNum === 0) {\r\n        return true\r\n      } else if (data.childNum !== undefined && data.childNum > 0) {\r\n        return false\r\n      }\r\n    },\r\n    loadNode (node, resolve) {\r\n      let _this = this\r\n      if (node.level === 0) {\r\n        _this.getNodes('0').then(response => {\r\n          return resolve(response.data);\r\n        })\r\n      }\r\n      if (node.level > 0) {\r\n        _this.getNodes(node.data.id).then(response => {\r\n          return resolve(response.data);\r\n        })\r\n      }\r\n    },\r\n    Home () {\r\n      this.$router.push({ name: 'Home' })\r\n    },\r\n    handleNodeClick (data) {\r\n      console.log(data);\r\n    },\r\n    getNodes (id) {\r\n      let query = {\r\n        \"id\": id,\r\n        \"uid\": JSON.parse(localStorage.getItem(\"userInfo\")).uid,\r\n        // 允许加载成员\r\n        \"expandMember\": true\r\n      }\r\n      return getDeptList(query)\r\n    },\r\n    // 获取通讯录\r\n    async fetchNodes (node) {\r\n      // 查询条件是id和token(伪)\r\n      let query = {\r\n        \"id\": node.id,\r\n        \"uid\": JSON.parse(localStorage.getItem(\"userInfo\")).uid,\r\n        // 允许加载成员\r\n        \"expandMember\": true\r\n      };\r\n      let children = [];\r\n      // 若为第一个节点或节点类型为1\r\n      if (node.id === 0 || node.childNum > 0) {\r\n        await getDeptList(query).then(res => {\r\n          // 查询子节点的子节点\r\n          res.data.forEach(data => {\r\n            _self.fetchNodes(data);\r\n            children.push(data);\r\n          });\r\n          // 将此节点的子节点挂载到此节点上\r\n          node.children = children;\r\n        })\r\n      }\r\n    },\r\n    // 转换数据\r\n    transformData () {\r\n      this.contactList = this.node.children;\r\n    },\r\n    // 语言通话\r\n    audioCall () {\r\n      this.$dialog.confirm({\r\n        message: '是否发起语音通话',\r\n      }).then(() => {\r\n        if (window.android) {\r\n          window.android.voiceChat(this.popTel);\r\n        } else if (window.webkit) {\r\n          window.webkit.messageHandlers.makeAudioCall.postMessage(this.popTel);\r\n        }\r\n      }).catch()\r\n    },\r\n    // 视频通话\r\n    videoCall () {\r\n      this.$dialog.confirm({\r\n        message: '是否发起视频通话',\r\n      }).then(() => {\r\n        if (window.android) {\r\n          window.android.videoChat(this.popTel)\r\n        } else if (window.webkit) {\r\n          window.webkit.messageHandlers.makeVideoCall.postMessage(this.popTel)\r\n        }\r\n      }).catch()\r\n    },\r\n    // 发消息\r\n    seedMessage () {\r\n      let query = {\r\n        uid: JSON.parse(localStorage.getItem(\"userInfo\")).uid,\r\n        objectId: this.userId,\r\n      };\r\n      createSingleConversation(query).then(res => {\r\n        if (res.code === 0) {\r\n          Toast('会话创建成功');\r\n          // 跳到会话列表\r\n          let messageId = res.data.id\r\n          this.$router.push({ name: 'MessageChat', query: { id: messageId } })\r\n        } else if (res.code === 1301) {\r\n          Toast('不能给自己发起会话');\r\n        } else if (res.code === 1201) {\r\n          let messageId = res.data.id\r\n          this.$router.push({ name: 'MessageChat', query: { id: messageId } })\r\n        } else if (res.code === 1202) {\r\n          let messageId = res.data.id\r\n          this.$router.push({ name: 'MessageChat', query: { id: messageId } })\r\n        } else {\r\n          Toast('会话创建失败，请稍后再试');\r\n        }\r\n      })\r\n    }\r\n  },\r\n}\r\n</script>\r\n<style lang='scss' scoped>\r\n//@import url(); 引入公共css类\r\n@import '../../styles/dimens';\r\n\r\n.dt-content {\r\n  height: calc(100% - #{$headerHeight} - #{$statusBarHeight} - 50px);\r\n  overflow-y: auto;\r\n\r\n  .custom-tree-node {\r\n    display: flex;\r\n    align-items: center;\r\n    padding: px2rem(6) 0;\r\n    height: px2rem(40);\r\n  }\r\n}\r\n\r\n.dt-chat {\r\n  height: 100%;\r\n\r\n  .dt-title {\r\n    height: $headerHeight;\r\n    padding-top: $statusBarHeight;\r\n    background-color: #5870f8;\r\n  }\r\n\r\n  .dt-more {\r\n    height: px2rem(18);\r\n    width: px2rem(18);\r\n    float: right;\r\n    text-align: right;\r\n    margin-right: px2rem(17);\r\n  }\r\n\r\n  .dt-chat-name {\r\n    font-size: px2rem(17);\r\n    font-family: 'SourceHanSansCN-Medium';\r\n    color: #ecedf2;\r\n  }\r\n\r\n  .dt-button {\r\n    width: px2rem(53);\r\n    height: px2rem(30);\r\n    margin-top: px2rem(5);\r\n    padding: 0 0;\r\n    background: #5870f8;\r\n    border-radius: px2rem(5);\r\n    font-size: px2rem(15);\r\n    font-family: Source Han Sans CN;\r\n    font-weight: 500;\r\n    color: #ffffff;\r\n  }\r\n\r\n  .dt-input {\r\n    padding: px2rem(2) px2rem(6);\r\n    margin: px2rem(5) px2rem(12);\r\n    width: px2rem(300);\r\n    height: $inputSearchHeight;\r\n    background: #edf1f5;\r\n    border-radius: px2rem(5);\r\n  }\r\n\r\n  .dt-collspse {\r\n    text-align: left;\r\n    font-family: 'PingFang-SC-Regular';\r\n    color: #2e2f38;\r\n    font-weight: 400;\r\n    font-size: px2rem(15);\r\n    margin-left: px2rem(10.5);\r\n    padding: 0;\r\n  }\r\n\r\n  .dt-item-list {\r\n    height: px2rem(58);\r\n  }\r\n\r\n  .van-cell van-cell--clickable van-collapse-item__title {\r\n    padding-left: 0;\r\n  }\r\n}\r\n\r\n.dt-pop {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-end;\r\n  height: 80%;\r\n}\r\n.dt-tongxun {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  border-bottom: 1px solid #f0f0f0;\r\n  padding: px2rem(15) 0 px2rem(20);\r\n  .imgIco {\r\n    width: px2rem(22);\r\n    height: px2rem(20);\r\n    margin-right: px2rem(13);\r\n    img {\r\n      width: px2rem(22);\r\n      height: px2rem(20);\r\n    }\r\n  }\r\n  .imgText {\r\n    height: px2rem(20);\r\n    line-height: px2rem(20);\r\n    color: #5b6068;\r\n  }\r\n}\r\n\r\n.imgBox {\r\n  margin: px2rem(20) 0;\r\n  .imgs {\r\n    margin-bottom: px2rem(5);\r\n    width: px2rem(50);\r\n    height: px2rem(50);\r\n  }\r\n}\r\n/* 点击 */\r\n.imgBox:active {\r\n  background: rgb(224, 224, 224);\r\n}\r\n\r\n/deep/ .van-icon__image {\r\n  height: px2rem(10);\r\n  width: px2rem(6.5);\r\n}\r\n\r\n/deep/ .el-tree-node__content {\r\n  height: 100%;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=ddf40406&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=ddf40406&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ddf40406\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar createProperty = require('../internals/create-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('slice');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('slice', { ACCESSORS: true, 0: 0, 1: 2 });\n\nvar SPECIES = wellKnownSymbol('species');\nvar nativeSlice = [].slice;\nvar max = Math.max;\n\n// `Array.prototype.slice` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.slice\n// fallback for not array-like ES3 strings and DOM objects\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  slice: function slice(start, end) {\n    var O = toIndexedObject(this);\n    var length = toLength(O.length);\n    var k = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n    var Constructor, result, n;\n    if (isArray(O)) {\n      Constructor = O.constructor;\n      // cross-realm fallback\n      if (typeof Constructor == 'function' && (Constructor === Array || isArray(Constructor.prototype))) {\n        Constructor = undefined;\n      } else if (isObject(Constructor)) {\n        Constructor = Constructor[SPECIES];\n        if (Constructor === null) Constructor = undefined;\n      }\n      if (Constructor === Array || Constructor === undefined) {\n        return nativeSlice.call(O, k, fin);\n      }\n    }\n    result = new (Constructor === undefined ? Array : Constructor)(max(fin - k, 0));\n    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n    result.length = n;\n    return result;\n  }\n});\n"],"sourceRoot":""}